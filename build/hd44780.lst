ARM GAS  /tmp/ccj6Rwke.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"hd44780.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.LCD_I2C_WriteOut,"ax",%progbits
  20              		.align	2
  21              		.global	LCD_I2C_WriteOut
  22              		.thumb
  23              		.thumb_func
  25              	LCD_I2C_WriteOut:
  26              	.LFB65:
  27              		.file 1 "./Src/hd44780.c"
   1:./Src/hd44780.c **** /*
   2:./Src/hd44780.c ****  *  * hd44780.c
   3:./Src/hd44780.c ****  *
   4:./Src/hd44780.c ****  *  Created on: Feb 20, 2014
   5:./Src/hd44780.c ****  *      Author: Peter
   6:./Src/hd44780.c ****  */
   7:./Src/hd44780.c **** 
   8:./Src/hd44780.c **** #include "hd44780.h"
   9:./Src/hd44780.c **** 
  10:./Src/hd44780.c **** uint32_t PCF8574_Type0Pins[8] = { 4, 5, 6, 7, 0, 1, 2, 3 };
  11:./Src/hd44780.c **** uint8_t LCDerrorFlag = 0;
  12:./Src/hd44780.c **** 
  13:./Src/hd44780.c **** void LCD_WaitForBusyFlag(LCD_PCF8574_HandleTypeDef* handle) {
  14:./Src/hd44780.c **** 	uint8_t flag;
  15:./Src/hd44780.c **** 	LCD_GetBusyFlag(handle, &flag);
  16:./Src/hd44780.c **** 	uint32_t startTick=HAL_GetTick();
  17:./Src/hd44780.c **** 	while (flag == 1 && HAL_GetTick()-startTick<handle->pcf8574.PCF_I2C_TIMEOUT) {
  18:./Src/hd44780.c **** 		LCD_GetBusyFlag(handle, &flag);
  19:./Src/hd44780.c **** 	}
  20:./Src/hd44780.c **** }
  21:./Src/hd44780.c **** 
  22:./Src/hd44780.c **** LCD_RESULT LCD_I2C_WriteOut(LCD_PCF8574_HandleTypeDef* handle) {
  28              		.loc 1 22 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
ARM GAS  /tmp/ccj6Rwke.s 			page 2


  37              		.cfi_offset 14, -4
  23:./Src/hd44780.c **** 	if (!LCDerrorFlag) {
  38              		.loc 1 23 0
  39 0002 084B     		ldr	r3, .L6
  40 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  41 0006 4BB9     		cbnz	r3, .L3
  24:./Src/hd44780.c **** 		if (PCF8574_Write(&handle->pcf8574, handle->state) != PCF8574_OK) {
  42              		.loc 1 24 0
  43 0008 90F83410 		ldrb	r1, [r0, #52]	@ zero_extendqisi2
  44 000c 4030     		adds	r0, r0, #64
  45              	.LVL1:
  46 000e FFF7FEFF 		bl	PCF8574_Write
  47              	.LVL2:
  48 0012 28B1     		cbz	r0, .L4
  25:./Src/hd44780.c **** 			//handle->errorCallback(LCD_ERROR);
  26:./Src/hd44780.c **** 			LCDerrorFlag = 1;
  49              		.loc 1 26 0
  50 0014 0120     		movs	r0, #1
  51 0016 034B     		ldr	r3, .L6
  52 0018 1870     		strb	r0, [r3]
  27:./Src/hd44780.c **** 			return LCD_ERROR;
  53              		.loc 1 27 0
  54 001a 08BD     		pop	{r3, pc}
  55              	.LVL3:
  56              	.L3:
  28:./Src/hd44780.c **** 		}
  29:./Src/hd44780.c **** 		return LCD_OK;
  30:./Src/hd44780.c **** 	}
  31:./Src/hd44780.c **** 	return LCD_ERROR;
  57              		.loc 1 31 0
  58 001c 0120     		movs	r0, #1
  59              	.LVL4:
  60 001e 08BD     		pop	{r3, pc}
  61              	.L4:
  29:./Src/hd44780.c **** 	}
  62              		.loc 1 29 0
  63 0020 0020     		movs	r0, #0
  32:./Src/hd44780.c **** }
  64              		.loc 1 32 0
  65 0022 08BD     		pop	{r3, pc}
  66              	.L7:
  67              		.align	2
  68              	.L6:
  69 0024 00000000 		.word	.LANCHOR0
  70              		.cfi_endproc
  71              	.LFE65:
  73              		.section	.text.LCD_StateWriteBit,"ax",%progbits
  74              		.align	2
  75              		.global	LCD_StateWriteBit
  76              		.thumb
  77              		.thumb_func
  79              	LCD_StateWriteBit:
  80              	.LFB67:
  33:./Src/hd44780.c **** 
  34:./Src/hd44780.c **** LCD_RESULT LCD_StateLEDControl(LCD_PCF8574_HandleTypeDef* handle, uint8_t on) {
  35:./Src/hd44780.c **** 	return LCD_StateWriteBit(handle, on & 1, LCD_PIN_LED);
  36:./Src/hd44780.c **** }
ARM GAS  /tmp/ccj6Rwke.s 			page 3


  37:./Src/hd44780.c **** 
  38:./Src/hd44780.c **** LCD_RESULT LCD_StateWriteBit(LCD_PCF8574_HandleTypeDef* handle, uint8_t value,
  39:./Src/hd44780.c **** 		LCD_PIN pin) {
  81              		.loc 1 39 0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              	.LVL5:
  86 0000 08B5     		push	{r3, lr}
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 3, -8
  90              		.cfi_offset 14, -4
  40:./Src/hd44780.c **** 
  41:./Src/hd44780.c **** 	if (value) {
  91              		.loc 1 41 0
  92 0002 51B1     		cbz	r1, .L9
  42:./Src/hd44780.c **** 		handle->state |= 1 << handle->pins[pin];
  93              		.loc 1 42 0
  94 0004 836B     		ldr	r3, [r0, #56]
  95 0006 53F82220 		ldr	r2, [r3, r2, lsl #2]
  96              	.LVL6:
  97 000a 0123     		movs	r3, #1
  98 000c 9340     		lsls	r3, r3, r2
  99 000e 90F83420 		ldrb	r2, [r0, #52]	@ zero_extendqisi2
 100 0012 1343     		orrs	r3, r3, r2
 101 0014 80F83430 		strb	r3, [r0, #52]
 102 0018 0BE0     		b	.L10
 103              	.LVL7:
 104              	.L9:
  43:./Src/hd44780.c **** 	} else {
  44:./Src/hd44780.c **** 		handle->state &= ~(1 << handle->pins[pin]);
 105              		.loc 1 44 0
 106 001a 836B     		ldr	r3, [r0, #56]
 107 001c 53F82220 		ldr	r2, [r3, r2, lsl #2]
 108              	.LVL8:
 109 0020 0123     		movs	r3, #1
 110 0022 03FA02F2 		lsl	r2, r3, r2
 111 0026 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 112 002a 23EA0203 		bic	r3, r3, r2
 113 002e 80F83430 		strb	r3, [r0, #52]
 114              	.L10:
  45:./Src/hd44780.c **** 	}
  46:./Src/hd44780.c **** 	return LCD_I2C_WriteOut(handle);
 115              		.loc 1 46 0
 116 0032 FFF7FEFF 		bl	LCD_I2C_WriteOut
 117              	.LVL9:
  47:./Src/hd44780.c **** }
 118              		.loc 1 47 0
 119 0036 08BD     		pop	{r3, pc}
 120              		.cfi_endproc
 121              	.LFE67:
 123              		.section	.text.LCD_StateLEDControl,"ax",%progbits
 124              		.align	2
 125              		.global	LCD_StateLEDControl
 126              		.thumb
 127              		.thumb_func
ARM GAS  /tmp/ccj6Rwke.s 			page 4


 129              	LCD_StateLEDControl:
 130              	.LFB66:
  34:./Src/hd44780.c **** 	return LCD_StateWriteBit(handle, on & 1, LCD_PIN_LED);
 131              		.loc 1 34 0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              	.LVL10:
 136 0000 08B5     		push	{r3, lr}
 137              	.LCFI2:
 138              		.cfi_def_cfa_offset 8
 139              		.cfi_offset 3, -8
 140              		.cfi_offset 14, -4
  35:./Src/hd44780.c **** }
 141              		.loc 1 35 0
 142 0002 0722     		movs	r2, #7
 143 0004 01F00101 		and	r1, r1, #1
 144              	.LVL11:
 145 0008 FFF7FEFF 		bl	LCD_StateWriteBit
 146              	.LVL12:
  36:./Src/hd44780.c **** 
 147              		.loc 1 36 0
 148 000c 08BD     		pop	{r3, pc}
 149              		.cfi_endproc
 150              	.LFE66:
 152 000e 00BF     		.section	.text.LCD_WriteToDataBus,"ax",%progbits
 153              		.align	2
 154              		.global	LCD_WriteToDataBus
 155              		.thumb
 156              		.thumb_func
 158              	LCD_WriteToDataBus:
 159              	.LFB69:
  48:./Src/hd44780.c **** 
  49:./Src/hd44780.c **** LCD_RESULT LCD_Init(LCD_PCF8574_HandleTypeDef* handle) {
  50:./Src/hd44780.c **** 	handle->D = 1;
  51:./Src/hd44780.c **** 	handle->B = 0;
  52:./Src/hd44780.c **** 	handle->C = 0;
  53:./Src/hd44780.c **** 	if (handle->type == TYPE0) {
  54:./Src/hd44780.c **** 		handle->pins = PCF8574_Type0Pins;
  55:./Src/hd44780.c **** 	} else {
  56:./Src/hd44780.c **** 		//handle->errorCallback(LCD_ERROR);
  57:./Src/hd44780.c **** 		return LCD_ERROR;	// no type of subinterface was specified
  58:./Src/hd44780.c **** 	}
  59:./Src/hd44780.c **** 	if (PCF8574_Init(&handle->pcf8574) != PCF8574_OK) {
  60:./Src/hd44780.c **** 		//handle->errorCallback(LCD_ERROR);
  61:./Src/hd44780.c **** 		return LCD_ERROR;
  62:./Src/hd44780.c **** 	}
  63:./Src/hd44780.c **** 
  64:./Src/hd44780.c **** 	HAL_Delay(50);
  65:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RS);
  66:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RW);
  67:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
  68:./Src/hd44780.c **** 
  69:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, 3);
  70:./Src/hd44780.c **** 
  71:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
  72:./Src/hd44780.c **** 	HAL_Delay(1);
ARM GAS  /tmp/ccj6Rwke.s 			page 5


  73:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
  74:./Src/hd44780.c **** 	HAL_Delay(5);
  75:./Src/hd44780.c **** 
  76:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, 3);
  77:./Src/hd44780.c **** 
  78:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
  79:./Src/hd44780.c **** 	HAL_Delay(1);
  80:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
  81:./Src/hd44780.c **** 	HAL_Delay(1);
  82:./Src/hd44780.c **** 
  83:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, 3);
  84:./Src/hd44780.c **** 
  85:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
  86:./Src/hd44780.c **** 	HAL_Delay(1);
  87:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
  88:./Src/hd44780.c **** 	HAL_Delay(1);
  89:./Src/hd44780.c **** 
  90:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, 2);
  91:./Src/hd44780.c **** 
  92:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
  93:./Src/hd44780.c **** 	HAL_Delay(1);
  94:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
  95:./Src/hd44780.c **** 	HAL_Delay(1);
  96:./Src/hd44780.c **** 
  97:./Src/hd44780.c **** 	uint8_t cmd = 0;
  98:./Src/hd44780.c **** 	cmd = cmd | (handle->NUMBER_OF_LINES << 3);
  99:./Src/hd44780.c **** 	cmd = cmd | (1 << 5);
 100:./Src/hd44780.c **** 
 101:./Src/hd44780.c **** 	LCD_WriteCMD(handle, cmd);	// setting interface
 102:./Src/hd44780.c **** 
 103:./Src/hd44780.c **** 	cmd = 0;
 104:./Src/hd44780.c **** 	cmd = cmd | (1 << 3);
 105:./Src/hd44780.c **** 	cmd = cmd | (handle->C << 1);
 106:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 107:./Src/hd44780.c **** 
 108:./Src/hd44780.c **** 	LCD_WriteCMD(handle, cmd);	// setting display/cursor
 109:./Src/hd44780.c **** 
 110:./Src/hd44780.c **** 	LCD_ClearDisplay(handle);
 111:./Src/hd44780.c **** 
 112:./Src/hd44780.c **** 	LCD_EntryModeSet(handle, DIRECTION_INCREMENT, SHIFT_NO);
 113:./Src/hd44780.c **** 
 114:./Src/hd44780.c **** 	LCD_DisplayON(handle);
 115:./Src/hd44780.c **** 
 116:./Src/hd44780.c **** 	LCD_StateLEDControl(handle, 1);	// LED power on
 117:./Src/hd44780.c **** 
 118:./Src/hd44780.c **** 	return LCD_OK;
 119:./Src/hd44780.c **** 
 120:./Src/hd44780.c **** }
 121:./Src/hd44780.c **** 
 122:./Src/hd44780.c **** LCD_RESULT LCD_WriteToDataBus(LCD_PCF8574_HandleTypeDef* handle, uint8_t data) {
 160              		.loc 1 122 0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 0
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              	.LVL13:
 165 0000 08B5     		push	{r3, lr}
 166              	.LCFI3:
ARM GAS  /tmp/ccj6Rwke.s 			page 6


 167              		.cfi_def_cfa_offset 8
 168              		.cfi_offset 3, -8
 169              		.cfi_offset 14, -4
 123:./Src/hd44780.c **** 	if ((data & 1) == 1) {
 170              		.loc 1 123 0
 171 0002 11F0010F 		tst	r1, #1
 172 0006 09D0     		beq	.L15
 124:./Src/hd44780.c **** 		handle->state |= 1 << handle->pins[LCD_PIN_D4];
 173              		.loc 1 124 0
 174 0008 836B     		ldr	r3, [r0, #56]
 175 000a 1A68     		ldr	r2, [r3]
 176 000c 0123     		movs	r3, #1
 177 000e 9340     		lsls	r3, r3, r2
 178 0010 90F83420 		ldrb	r2, [r0, #52]	@ zero_extendqisi2
 179 0014 1343     		orrs	r3, r3, r2
 180 0016 80F83430 		strb	r3, [r0, #52]
 181 001a 0AE0     		b	.L16
 182              	.L15:
 125:./Src/hd44780.c **** 	} else {
 126:./Src/hd44780.c **** 		handle->state &= ~(1 << handle->pins[LCD_PIN_D4]);
 183              		.loc 1 126 0
 184 001c 836B     		ldr	r3, [r0, #56]
 185 001e 1A68     		ldr	r2, [r3]
 186 0020 0123     		movs	r3, #1
 187 0022 03FA02F2 		lsl	r2, r3, r2
 188 0026 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 189 002a 23EA0203 		bic	r3, r3, r2
 190 002e 80F83430 		strb	r3, [r0, #52]
 191              	.L16:
 127:./Src/hd44780.c **** 	}
 128:./Src/hd44780.c **** 
 129:./Src/hd44780.c **** 	if ((data & 2) == 2) {
 192              		.loc 1 129 0
 193 0032 11F0020F 		tst	r1, #2
 194 0036 09D0     		beq	.L17
 130:./Src/hd44780.c **** 		handle->state |= 1 << handle->pins[LCD_PIN_D5];
 195              		.loc 1 130 0
 196 0038 836B     		ldr	r3, [r0, #56]
 197 003a 5A68     		ldr	r2, [r3, #4]
 198 003c 0123     		movs	r3, #1
 199 003e 9340     		lsls	r3, r3, r2
 200 0040 90F83420 		ldrb	r2, [r0, #52]	@ zero_extendqisi2
 201 0044 1343     		orrs	r3, r3, r2
 202 0046 80F83430 		strb	r3, [r0, #52]
 203 004a 0AE0     		b	.L18
 204              	.L17:
 131:./Src/hd44780.c **** 	} else {
 132:./Src/hd44780.c **** 		handle->state &= ~(1 << handle->pins[LCD_PIN_D5]);
 205              		.loc 1 132 0
 206 004c 836B     		ldr	r3, [r0, #56]
 207 004e 5A68     		ldr	r2, [r3, #4]
 208 0050 0123     		movs	r3, #1
 209 0052 03FA02F2 		lsl	r2, r3, r2
 210 0056 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 211 005a 23EA0203 		bic	r3, r3, r2
 212 005e 80F83430 		strb	r3, [r0, #52]
 213              	.L18:
ARM GAS  /tmp/ccj6Rwke.s 			page 7


 133:./Src/hd44780.c **** 	}
 134:./Src/hd44780.c **** 
 135:./Src/hd44780.c **** 	if ((data & 4) == 4) {
 214              		.loc 1 135 0
 215 0062 11F0040F 		tst	r1, #4
 216 0066 09D0     		beq	.L19
 136:./Src/hd44780.c **** 		handle->state |= 1 << handle->pins[LCD_PIN_D6];
 217              		.loc 1 136 0
 218 0068 836B     		ldr	r3, [r0, #56]
 219 006a 9A68     		ldr	r2, [r3, #8]
 220 006c 0123     		movs	r3, #1
 221 006e 9340     		lsls	r3, r3, r2
 222 0070 90F83420 		ldrb	r2, [r0, #52]	@ zero_extendqisi2
 223 0074 1343     		orrs	r3, r3, r2
 224 0076 80F83430 		strb	r3, [r0, #52]
 225 007a 0AE0     		b	.L20
 226              	.L19:
 137:./Src/hd44780.c **** 	} else {
 138:./Src/hd44780.c **** 		handle->state &= ~(1 << handle->pins[LCD_PIN_D6]);
 227              		.loc 1 138 0
 228 007c 836B     		ldr	r3, [r0, #56]
 229 007e 9A68     		ldr	r2, [r3, #8]
 230 0080 0123     		movs	r3, #1
 231 0082 03FA02F2 		lsl	r2, r3, r2
 232 0086 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 233 008a 23EA0203 		bic	r3, r3, r2
 234 008e 80F83430 		strb	r3, [r0, #52]
 235              	.L20:
 139:./Src/hd44780.c **** 	}
 140:./Src/hd44780.c **** 
 141:./Src/hd44780.c **** 	if ((data & 8) == 8) {
 236              		.loc 1 141 0
 237 0092 11F0080F 		tst	r1, #8
 238 0096 09D0     		beq	.L21
 142:./Src/hd44780.c **** 		handle->state |= 1 << handle->pins[LCD_PIN_D7];
 239              		.loc 1 142 0
 240 0098 836B     		ldr	r3, [r0, #56]
 241 009a DA68     		ldr	r2, [r3, #12]
 242 009c 0123     		movs	r3, #1
 243 009e 9340     		lsls	r3, r3, r2
 244 00a0 90F83420 		ldrb	r2, [r0, #52]	@ zero_extendqisi2
 245 00a4 1343     		orrs	r3, r3, r2
 246 00a6 80F83430 		strb	r3, [r0, #52]
 247 00aa 0AE0     		b	.L22
 248              	.L21:
 143:./Src/hd44780.c **** 	} else {
 144:./Src/hd44780.c **** 		handle->state &= ~(1 << handle->pins[LCD_PIN_D7]);
 249              		.loc 1 144 0
 250 00ac 836B     		ldr	r3, [r0, #56]
 251 00ae DA68     		ldr	r2, [r3, #12]
 252 00b0 0123     		movs	r3, #1
 253 00b2 03FA02F2 		lsl	r2, r3, r2
 254 00b6 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 255 00ba 23EA0203 		bic	r3, r3, r2
 256 00be 80F83430 		strb	r3, [r0, #52]
 257              	.L22:
 145:./Src/hd44780.c **** 	}
ARM GAS  /tmp/ccj6Rwke.s 			page 8


 146:./Src/hd44780.c **** 
 147:./Src/hd44780.c **** 	return LCD_I2C_WriteOut(handle);
 258              		.loc 1 147 0
 259 00c2 FFF7FEFF 		bl	LCD_I2C_WriteOut
 260              	.LVL14:
 148:./Src/hd44780.c **** }
 261              		.loc 1 148 0
 262 00c6 08BD     		pop	{r3, pc}
 263              		.cfi_endproc
 264              	.LFE69:
 266              		.section	.text.LCD_GetBusyFlag,"ax",%progbits
 267              		.align	2
 268              		.global	LCD_GetBusyFlag
 269              		.thumb
 270              		.thumb_func
 272              	LCD_GetBusyFlag:
 273              	.LFB70:
 149:./Src/hd44780.c **** 
 150:./Src/hd44780.c **** LCD_RESULT LCD_GetBusyFlag(LCD_PCF8574_HandleTypeDef* handle, uint8_t* flag) {
 274              		.loc 1 150 0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 8
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              	.LVL15:
 279 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 280              	.LCFI4:
 281              		.cfi_def_cfa_offset 20
 282              		.cfi_offset 4, -20
 283              		.cfi_offset 5, -16
 284              		.cfi_offset 6, -12
 285              		.cfi_offset 7, -8
 286              		.cfi_offset 14, -4
 287 0002 83B0     		sub	sp, sp, #12
 288              	.LCFI5:
 289              		.cfi_def_cfa_offset 32
 290 0004 0446     		mov	r4, r0
 291 0006 0D46     		mov	r5, r1
 151:./Src/hd44780.c **** 
 152:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 292              		.loc 1 152 0
 293 0008 0622     		movs	r2, #6
 294 000a 0021     		movs	r1, #0
 295              	.LVL16:
 296 000c FFF7FEFF 		bl	LCD_StateWriteBit
 297              	.LVL17:
 153:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RS);
 298              		.loc 1 153 0
 299 0010 0422     		movs	r2, #4
 300 0012 0021     		movs	r1, #0
 301 0014 2046     		mov	r0, r4
 302 0016 FFF7FEFF 		bl	LCD_StateWriteBit
 303              	.LVL18:
 154:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_RW);
 304              		.loc 1 154 0
 305 001a 0522     		movs	r2, #5
 306 001c 0121     		movs	r1, #1
 307 001e 2046     		mov	r0, r4
ARM GAS  /tmp/ccj6Rwke.s 			page 9


 308 0020 FFF7FEFF 		bl	LCD_StateWriteBit
 309              	.LVL19:
 155:./Src/hd44780.c **** 
 156:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 310              		.loc 1 156 0
 311 0024 0622     		movs	r2, #6
 312 0026 0121     		movs	r1, #1
 313 0028 2046     		mov	r0, r4
 314 002a FFF7FEFF 		bl	LCD_StateWriteBit
 315              	.LVL20:
 157:./Src/hd44780.c **** 
 158:./Src/hd44780.c **** 	PCF8574_Read(&handle->pcf8574, flag);
 316              		.loc 1 158 0
 317 002e 04F14006 		add	r6, r4, #64
 318 0032 2946     		mov	r1, r5
 319 0034 3046     		mov	r0, r6
 320 0036 FFF7FEFF 		bl	PCF8574_Read
 321              	.LVL21:
 159:./Src/hd44780.c **** 
 160:./Src/hd44780.c **** 	*flag &= 1 << handle->pins[LCD_PIN_D7];
 322              		.loc 1 160 0
 323 003a A36B     		ldr	r3, [r4, #56]
 324 003c DB68     		ldr	r3, [r3, #12]
 325 003e 0127     		movs	r7, #1
 326 0040 07FA03F3 		lsl	r3, r7, r3
 327 0044 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 328 0046 1340     		ands	r3, r3, r2
 329 0048 2B70     		strb	r3, [r5]
 161:./Src/hd44780.c **** 	*flag >>= handle->pins[LCD_PIN_D7];
 330              		.loc 1 161 0
 331 004a A26B     		ldr	r2, [r4, #56]
 332 004c D268     		ldr	r2, [r2, #12]
 333 004e 1341     		asrs	r3, r3, r2
 334 0050 2B70     		strb	r3, [r5]
 162:./Src/hd44780.c **** 
 163:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 335              		.loc 1 163 0
 336 0052 0622     		movs	r2, #6
 337 0054 0021     		movs	r1, #0
 338 0056 2046     		mov	r0, r4
 339 0058 FFF7FEFF 		bl	LCD_StateWriteBit
 340              	.LVL22:
 164:./Src/hd44780.c **** 
 165:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 341              		.loc 1 165 0
 342 005c 0622     		movs	r2, #6
 343 005e 3946     		mov	r1, r7
 344 0060 2046     		mov	r0, r4
 345 0062 FFF7FEFF 		bl	LCD_StateWriteBit
 346              	.LVL23:
 166:./Src/hd44780.c **** 
 167:./Src/hd44780.c **** 	uint8_t flag2;
 168:./Src/hd44780.c **** 	PCF8574_Read(&handle->pcf8574, &flag2);
 347              		.loc 1 168 0
 348 0066 0DF10701 		add	r1, sp, #7
 349 006a 3046     		mov	r0, r6
 350 006c FFF7FEFF 		bl	PCF8574_Read
ARM GAS  /tmp/ccj6Rwke.s 			page 10


 351              	.LVL24:
 169:./Src/hd44780.c **** 
 170:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 352              		.loc 1 170 0
 353 0070 0622     		movs	r2, #6
 354 0072 0021     		movs	r1, #0
 355 0074 2046     		mov	r0, r4
 356 0076 FFF7FEFF 		bl	LCD_StateWriteBit
 357              	.LVL25:
 171:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RW);
 358              		.loc 1 171 0
 359 007a 0522     		movs	r2, #5
 360 007c 0021     		movs	r1, #0
 361 007e 2046     		mov	r0, r4
 362 0080 FFF7FEFF 		bl	LCD_StateWriteBit
 363              	.LVL26:
 172:./Src/hd44780.c **** 
 173:./Src/hd44780.c **** 	return LCD_OK;
 174:./Src/hd44780.c **** 
 175:./Src/hd44780.c **** }
 364              		.loc 1 175 0
 365 0084 0020     		movs	r0, #0
 366 0086 03B0     		add	sp, sp, #12
 367              	.LCFI6:
 368              		.cfi_def_cfa_offset 20
 369              		@ sp needed
 370 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 371              		.cfi_endproc
 372              	.LFE70:
 374 008a 00BF     		.section	.text.LCD_WaitForBusyFlag,"ax",%progbits
 375              		.align	2
 376              		.global	LCD_WaitForBusyFlag
 377              		.thumb
 378              		.thumb_func
 380              	LCD_WaitForBusyFlag:
 381              	.LFB64:
  13:./Src/hd44780.c **** 	uint8_t flag;
 382              		.loc 1 13 0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 8
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 386              	.LVL27:
 387 0000 30B5     		push	{r4, r5, lr}
 388              	.LCFI7:
 389              		.cfi_def_cfa_offset 12
 390              		.cfi_offset 4, -12
 391              		.cfi_offset 5, -8
 392              		.cfi_offset 14, -4
 393 0002 83B0     		sub	sp, sp, #12
 394              	.LCFI8:
 395              		.cfi_def_cfa_offset 24
 396 0004 0446     		mov	r4, r0
  15:./Src/hd44780.c **** 	uint32_t startTick=HAL_GetTick();
 397              		.loc 1 15 0
 398 0006 0DF10701 		add	r1, sp, #7
 399 000a FFF7FEFF 		bl	LCD_GetBusyFlag
 400              	.LVL28:
ARM GAS  /tmp/ccj6Rwke.s 			page 11


  16:./Src/hd44780.c **** 	while (flag == 1 && HAL_GetTick()-startTick<handle->pcf8574.PCF_I2C_TIMEOUT) {
 401              		.loc 1 16 0
 402 000e FFF7FEFF 		bl	HAL_GetTick
 403              	.LVL29:
 404 0012 0546     		mov	r5, r0
 405              	.LVL30:
  17:./Src/hd44780.c **** 		LCD_GetBusyFlag(handle, &flag);
 406              		.loc 1 17 0
 407 0014 04E0     		b	.L27
 408              	.LVL31:
 409              	.L29:
  18:./Src/hd44780.c **** 	}
 410              		.loc 1 18 0
 411 0016 0DF10701 		add	r1, sp, #7
 412 001a 2046     		mov	r0, r4
 413 001c FFF7FEFF 		bl	LCD_GetBusyFlag
 414              	.LVL32:
 415              	.L27:
  17:./Src/hd44780.c **** 		LCD_GetBusyFlag(handle, &flag);
 416              		.loc 1 17 0
 417 0020 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 418 0024 012B     		cmp	r3, #1
 419 0026 05D1     		bne	.L26
  17:./Src/hd44780.c **** 		LCD_GetBusyFlag(handle, &flag);
 420              		.loc 1 17 0 is_stmt 0 discriminator 1
 421 0028 FFF7FEFF 		bl	HAL_GetTick
 422              	.LVL33:
 423 002c 401B     		subs	r0, r0, r5
 424 002e 636C     		ldr	r3, [r4, #68]
 425 0030 9842     		cmp	r0, r3
 426 0032 F0D3     		bcc	.L29
 427              	.L26:
  20:./Src/hd44780.c **** 
 428              		.loc 1 20 0 is_stmt 1
 429 0034 03B0     		add	sp, sp, #12
 430              	.LCFI9:
 431              		.cfi_def_cfa_offset 12
 432              		@ sp needed
 433 0036 30BD     		pop	{r4, r5, pc}
 434              		.cfi_endproc
 435              	.LFE64:
 437              		.section	.text.LCD_WriteCMD,"ax",%progbits
 438              		.align	2
 439              		.global	LCD_WriteCMD
 440              		.thumb
 441              		.thumb_func
 443              	LCD_WriteCMD:
 444              	.LFB71:
 176:./Src/hd44780.c **** 
 177:./Src/hd44780.c **** LCD_RESULT LCD_WriteCMD(LCD_PCF8574_HandleTypeDef* handle, uint8_t cmd) {
 445              		.loc 1 177 0
 446              		.cfi_startproc
 447              		@ args = 0, pretend = 0, frame = 0
 448              		@ frame_needed = 0, uses_anonymous_args = 0
 449              	.LVL34:
 450 0000 38B5     		push	{r3, r4, r5, lr}
 451              	.LCFI10:
ARM GAS  /tmp/ccj6Rwke.s 			page 12


 452              		.cfi_def_cfa_offset 16
 453              		.cfi_offset 3, -16
 454              		.cfi_offset 4, -12
 455              		.cfi_offset 5, -8
 456              		.cfi_offset 14, -4
 178:./Src/hd44780.c **** 	if (!LCDerrorFlag) {
 457              		.loc 1 178 0
 458 0002 184B     		ldr	r3, .L35
 459 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 460 0006 5BBB     		cbnz	r3, .L33
 461 0008 0D46     		mov	r5, r1
 462 000a 0446     		mov	r4, r0
 179:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 463              		.loc 1 179 0
 464 000c 0622     		movs	r2, #6
 465 000e 0021     		movs	r1, #0
 466              	.LVL35:
 467 0010 FFF7FEFF 		bl	LCD_StateWriteBit
 468              	.LVL36:
 180:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 0, LCD_PIN_RS);
 469              		.loc 1 180 0
 470 0014 0422     		movs	r2, #4
 471 0016 0021     		movs	r1, #0
 472 0018 2046     		mov	r0, r4
 473 001a FFF7FEFF 		bl	LCD_StateWriteBit
 474              	.LVL37:
 181:./Src/hd44780.c **** 
 182:./Src/hd44780.c **** 		LCD_WriteToDataBus(handle, cmd >> 4);
 475              		.loc 1 182 0
 476 001e 2909     		lsrs	r1, r5, #4
 477 0020 2046     		mov	r0, r4
 478 0022 FFF7FEFF 		bl	LCD_WriteToDataBus
 479              	.LVL38:
 183:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 480              		.loc 1 183 0
 481 0026 0622     		movs	r2, #6
 482 0028 0121     		movs	r1, #1
 483 002a 2046     		mov	r0, r4
 484 002c FFF7FEFF 		bl	LCD_StateWriteBit
 485              	.LVL39:
 184:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 486              		.loc 1 184 0
 487 0030 0622     		movs	r2, #6
 488 0032 0021     		movs	r1, #0
 489 0034 2046     		mov	r0, r4
 490 0036 FFF7FEFF 		bl	LCD_StateWriteBit
 491              	.LVL40:
 185:./Src/hd44780.c **** 
 186:./Src/hd44780.c **** 		LCD_WriteToDataBus(handle, cmd);
 492              		.loc 1 186 0
 493 003a 2946     		mov	r1, r5
 494 003c 2046     		mov	r0, r4
 495 003e FFF7FEFF 		bl	LCD_WriteToDataBus
 496              	.LVL41:
 187:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 497              		.loc 1 187 0
 498 0042 0622     		movs	r2, #6
ARM GAS  /tmp/ccj6Rwke.s 			page 13


 499 0044 0121     		movs	r1, #1
 500 0046 2046     		mov	r0, r4
 501 0048 FFF7FEFF 		bl	LCD_StateWriteBit
 502              	.LVL42:
 188:./Src/hd44780.c **** 		LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 503              		.loc 1 188 0
 504 004c 0622     		movs	r2, #6
 505 004e 0021     		movs	r1, #0
 506 0050 2046     		mov	r0, r4
 507 0052 FFF7FEFF 		bl	LCD_StateWriteBit
 508              	.LVL43:
 189:./Src/hd44780.c **** 
 190:./Src/hd44780.c **** 		LCD_WaitForBusyFlag(handle);
 509              		.loc 1 190 0
 510 0056 2046     		mov	r0, r4
 511 0058 FFF7FEFF 		bl	LCD_WaitForBusyFlag
 512              	.LVL44:
 191:./Src/hd44780.c **** 
 192:./Src/hd44780.c **** 		return LCD_OK;
 513              		.loc 1 192 0
 514 005c 0020     		movs	r0, #0
 515 005e 38BD     		pop	{r3, r4, r5, pc}
 516              	.LVL45:
 517              	.L33:
 193:./Src/hd44780.c **** 	} return LCD_ERROR;
 518              		.loc 1 193 0
 519 0060 0120     		movs	r0, #1
 520              	.LVL46:
 194:./Src/hd44780.c **** 
 195:./Src/hd44780.c **** }
 521              		.loc 1 195 0
 522 0062 38BD     		pop	{r3, r4, r5, pc}
 523              	.L36:
 524              		.align	2
 525              	.L35:
 526 0064 00000000 		.word	.LANCHOR0
 527              		.cfi_endproc
 528              	.LFE71:
 530              		.section	.text.LCD_WriteDATA,"ax",%progbits
 531              		.align	2
 532              		.global	LCD_WriteDATA
 533              		.thumb
 534              		.thumb_func
 536              	LCD_WriteDATA:
 537              	.LFB72:
 196:./Src/hd44780.c **** 
 197:./Src/hd44780.c **** LCD_RESULT LCD_WriteDATA(LCD_PCF8574_HandleTypeDef* handle, uint8_t data) {
 538              		.loc 1 197 0
 539              		.cfi_startproc
 540              		@ args = 0, pretend = 0, frame = 0
 541              		@ frame_needed = 0, uses_anonymous_args = 0
 542              	.LVL47:
 543 0000 38B5     		push	{r3, r4, r5, lr}
 544              	.LCFI11:
 545              		.cfi_def_cfa_offset 16
 546              		.cfi_offset 3, -16
 547              		.cfi_offset 4, -12
ARM GAS  /tmp/ccj6Rwke.s 			page 14


 548              		.cfi_offset 5, -8
 549              		.cfi_offset 14, -4
 550 0002 0446     		mov	r4, r0
 551 0004 0D46     		mov	r5, r1
 198:./Src/hd44780.c **** 
 199:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 552              		.loc 1 199 0
 553 0006 0622     		movs	r2, #6
 554 0008 0021     		movs	r1, #0
 555              	.LVL48:
 556 000a FFF7FEFF 		bl	LCD_StateWriteBit
 557              	.LVL49:
 200:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_RS);
 558              		.loc 1 200 0
 559 000e 0422     		movs	r2, #4
 560 0010 0121     		movs	r1, #1
 561 0012 2046     		mov	r0, r4
 562 0014 FFF7FEFF 		bl	LCD_StateWriteBit
 563              	.LVL50:
 201:./Src/hd44780.c **** 
 202:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, data >> 4);
 564              		.loc 1 202 0
 565 0018 2909     		lsrs	r1, r5, #4
 566 001a 2046     		mov	r0, r4
 567 001c FFF7FEFF 		bl	LCD_WriteToDataBus
 568              	.LVL51:
 203:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 569              		.loc 1 203 0
 570 0020 0622     		movs	r2, #6
 571 0022 0121     		movs	r1, #1
 572 0024 2046     		mov	r0, r4
 573 0026 FFF7FEFF 		bl	LCD_StateWriteBit
 574              	.LVL52:
 204:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 575              		.loc 1 204 0
 576 002a 0622     		movs	r2, #6
 577 002c 0021     		movs	r1, #0
 578 002e 2046     		mov	r0, r4
 579 0030 FFF7FEFF 		bl	LCD_StateWriteBit
 580              	.LVL53:
 205:./Src/hd44780.c **** 
 206:./Src/hd44780.c **** 	LCD_WriteToDataBus(handle, data);
 581              		.loc 1 206 0
 582 0034 2946     		mov	r1, r5
 583 0036 2046     		mov	r0, r4
 584 0038 FFF7FEFF 		bl	LCD_WriteToDataBus
 585              	.LVL54:
 207:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 1, LCD_PIN_E);
 586              		.loc 1 207 0
 587 003c 0622     		movs	r2, #6
 588 003e 0121     		movs	r1, #1
 589 0040 2046     		mov	r0, r4
 590 0042 FFF7FEFF 		bl	LCD_StateWriteBit
 591              	.LVL55:
 208:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 592              		.loc 1 208 0
 593 0046 0622     		movs	r2, #6
ARM GAS  /tmp/ccj6Rwke.s 			page 15


 594 0048 0021     		movs	r1, #0
 595 004a 2046     		mov	r0, r4
 596 004c FFF7FEFF 		bl	LCD_StateWriteBit
 597              	.LVL56:
 209:./Src/hd44780.c **** 
 210:./Src/hd44780.c **** 	LCD_WaitForBusyFlag(handle);
 598              		.loc 1 210 0
 599 0050 2046     		mov	r0, r4
 600 0052 FFF7FEFF 		bl	LCD_WaitForBusyFlag
 601              	.LVL57:
 211:./Src/hd44780.c **** 
 212:./Src/hd44780.c **** 	return LCD_OK;
 213:./Src/hd44780.c **** 
 214:./Src/hd44780.c **** }
 602              		.loc 1 214 0
 603 0056 0020     		movs	r0, #0
 604 0058 38BD     		pop	{r3, r4, r5, pc}
 605              		.cfi_endproc
 606              	.LFE72:
 608 005a 00BF     		.section	.text.LCD_SetLocation,"ax",%progbits
 609              		.align	2
 610              		.global	LCD_SetLocation
 611              		.thumb
 612              		.thumb_func
 614              	LCD_SetLocation:
 615              	.LFB73:
 215:./Src/hd44780.c **** 
 216:./Src/hd44780.c **** LCD_RESULT LCD_SetLocation(LCD_PCF8574_HandleTypeDef* handle, uint8_t x,
 217:./Src/hd44780.c **** 		uint8_t y) {
 616              		.loc 1 217 0
 617              		.cfi_startproc
 618              		@ args = 0, pretend = 0, frame = 0
 619              		@ frame_needed = 0, uses_anonymous_args = 0
 620              	.LVL58:
 621 0000 08B5     		push	{r3, lr}
 622              	.LCFI12:
 623              		.cfi_def_cfa_offset 8
 624              		.cfi_offset 3, -8
 625              		.cfi_offset 14, -4
 218:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 626              		.loc 1 218 0
 627 0002 064B     		ldr	r3, .L42
 628 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 629 0006 3BB9     		cbnz	r3, .L40
 219:./Src/hd44780.c **** 
 220:./Src/hd44780.c **** 	uint8_t add = 0x40 * y + x;
 630              		.loc 1 220 0
 631 0008 01EB8211 		add	r1, r1, r2, lsl #6
 632              	.LVL59:
 221:./Src/hd44780.c **** 	uint8_t cmd = 1 << 7;
 222:./Src/hd44780.c **** 	cmd = cmd | add;
 633              		.loc 1 222 0
 634 000c 61F07F01 		orn	r1, r1, #127
 635              	.LVL60:
 223:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 636              		.loc 1 223 0
 637 0010 C9B2     		uxtb	r1, r1
ARM GAS  /tmp/ccj6Rwke.s 			page 16


 638 0012 FFF7FEFF 		bl	LCD_WriteCMD
 639              	.LVL61:
 640 0016 08BD     		pop	{r3, pc}
 641              	.LVL62:
 642              	.L40:
 643              	.LVL63:
 224:./Src/hd44780.c **** 
 225:./Src/hd44780.c **** }
 644              		.loc 1 225 0
 645 0018 08BD     		pop	{r3, pc}
 646              	.L43:
 647 001a 00BF     		.align	2
 648              	.L42:
 649 001c 00000000 		.word	.LANCHOR0
 650              		.cfi_endproc
 651              	.LFE73:
 653              		.section	.text.LCD_WriteString,"ax",%progbits
 654              		.align	2
 655              		.global	LCD_WriteString
 656              		.thumb
 657              		.thumb_func
 659              	LCD_WriteString:
 660              	.LFB74:
 226:./Src/hd44780.c **** 
 227:./Src/hd44780.c **** LCD_RESULT LCD_WriteString(LCD_PCF8574_HandleTypeDef* handle, char *s) {
 661              		.loc 1 227 0
 662              		.cfi_startproc
 663              		@ args = 0, pretend = 0, frame = 0
 664              		@ frame_needed = 0, uses_anonymous_args = 0
 665              	.LVL64:
 228:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 666              		.loc 1 228 0
 667 0000 0D4B     		ldr	r3, .L52
 668 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 669 0004 B3B9     		cbnz	r3, .L45
 670              	.LVL65:
 229:./Src/hd44780.c **** 	int i = 0;
 230:./Src/hd44780.c **** 
 231:./Src/hd44780.c **** 	if (s != 0) {
 671              		.loc 1 231 0
 672 0006 51B9     		cbnz	r1, .L49
 232:./Src/hd44780.c **** 
 233:./Src/hd44780.c **** 		while (i < 80 && s[i] != 0) {
 234:./Src/hd44780.c **** 			LCD_WaitForBusyFlag(handle);
 235:./Src/hd44780.c **** 			LCD_WriteDATA(handle, s[i]);
 236:./Src/hd44780.c **** 			i++;
 237:./Src/hd44780.c **** 		}
 238:./Src/hd44780.c **** 	}
 239:./Src/hd44780.c **** 	return LCD_OK;
 673              		.loc 1 239 0
 674 0008 0020     		movs	r0, #0
 675              	.LVL66:
 240:./Src/hd44780.c **** }
 676              		.loc 1 240 0
 677 000a 7047     		bx	lr
 678              	.LVL67:
 679              	.L48:
ARM GAS  /tmp/ccj6Rwke.s 			page 17


 680              	.LCFI13:
 681              		.cfi_def_cfa_offset 16
 682              		.cfi_offset 4, -16
 683              		.cfi_offset 5, -12
 684              		.cfi_offset 6, -8
 685              		.cfi_offset 14, -4
 234:./Src/hd44780.c **** 			LCD_WriteDATA(handle, s[i]);
 686              		.loc 1 234 0
 687 000c 3046     		mov	r0, r6
 688 000e FFF7FEFF 		bl	LCD_WaitForBusyFlag
 689              	.LVL68:
 235:./Src/hd44780.c **** 			i++;
 690              		.loc 1 235 0
 691 0012 295D     		ldrb	r1, [r5, r4]	@ zero_extendqisi2
 692 0014 3046     		mov	r0, r6
 693 0016 FFF7FEFF 		bl	LCD_WriteDATA
 694              	.LVL69:
 236:./Src/hd44780.c **** 		}
 695              		.loc 1 236 0
 696 001a 0134     		adds	r4, r4, #1
 697              	.LVL70:
 698 001c 03E0     		b	.L46
 699              	.LVL71:
 700              	.L49:
 701              	.LCFI14:
 702              		.cfi_def_cfa_offset 0
 703              		.cfi_restore 4
 704              		.cfi_restore 5
 705              		.cfi_restore 6
 706              		.cfi_restore 14
 227:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 707              		.loc 1 227 0
 708 001e 70B5     		push	{r4, r5, r6, lr}
 709              	.LCFI15:
 710              		.cfi_def_cfa_offset 16
 711              		.cfi_offset 4, -16
 712              		.cfi_offset 5, -12
 713              		.cfi_offset 6, -8
 714              		.cfi_offset 14, -4
 715 0020 0D46     		mov	r5, r1
 716 0022 0646     		mov	r6, r0
 717 0024 0024     		movs	r4, #0
 718              	.LVL72:
 719              	.L46:
 233:./Src/hd44780.c **** 			LCD_WaitForBusyFlag(handle);
 720              		.loc 1 233 0
 721 0026 4F2C     		cmp	r4, #79
 722 0028 02DC     		bgt	.L47
 233:./Src/hd44780.c **** 			LCD_WaitForBusyFlag(handle);
 723              		.loc 1 233 0 is_stmt 0 discriminator 1
 724 002a 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 725 002c 002B     		cmp	r3, #0
 726 002e EDD1     		bne	.L48
 727              	.L47:
 239:./Src/hd44780.c **** }
 728              		.loc 1 239 0 is_stmt 1
 729 0030 0020     		movs	r0, #0
ARM GAS  /tmp/ccj6Rwke.s 			page 18


 730 0032 70BD     		pop	{r4, r5, r6, pc}
 731              	.LVL73:
 732              	.L45:
 733              	.LCFI16:
 734              		.cfi_def_cfa_offset 0
 735              		.cfi_restore 4
 736              		.cfi_restore 5
 737              		.cfi_restore 6
 738              		.cfi_restore 14
 739              	.LVL74:
 228:./Src/hd44780.c **** 	int i = 0;
 740              		.loc 1 228 0
 741 0034 7047     		bx	lr
 742              	.L53:
 743 0036 00BF     		.align	2
 744              	.L52:
 745 0038 00000000 		.word	.LANCHOR0
 746              		.cfi_endproc
 747              	.LFE74:
 749              		.section	.text.LCD_ClearDisplay,"ax",%progbits
 750              		.align	2
 751              		.global	LCD_ClearDisplay
 752              		.thumb
 753              		.thumb_func
 755              	LCD_ClearDisplay:
 756              	.LFB75:
 241:./Src/hd44780.c **** 
 242:./Src/hd44780.c **** LCD_RESULT LCD_ClearDisplay(LCD_PCF8574_HandleTypeDef* handle) {
 757              		.loc 1 242 0
 758              		.cfi_startproc
 759              		@ args = 0, pretend = 0, frame = 0
 760              		@ frame_needed = 0, uses_anonymous_args = 0
 761              	.LVL75:
 762 0000 08B5     		push	{r3, lr}
 763              	.LCFI17:
 764              		.cfi_def_cfa_offset 8
 765              		.cfi_offset 3, -8
 766              		.cfi_offset 14, -4
 243:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 767              		.loc 1 243 0
 768 0002 044B     		ldr	r3, .L57
 769 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 770 0006 1BB9     		cbnz	r3, .L55
 244:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, 1);
 771              		.loc 1 244 0
 772 0008 0121     		movs	r1, #1
 773 000a FFF7FEFF 		bl	LCD_WriteCMD
 774              	.LVL76:
 775 000e 08BD     		pop	{r3, pc}
 776              	.LVL77:
 777              	.L55:
 778              	.LVL78:
 245:./Src/hd44780.c **** }
 779              		.loc 1 245 0
 780 0010 08BD     		pop	{r3, pc}
 781              	.L58:
 782 0012 00BF     		.align	2
ARM GAS  /tmp/ccj6Rwke.s 			page 19


 783              	.L57:
 784 0014 00000000 		.word	.LANCHOR0
 785              		.cfi_endproc
 786              	.LFE75:
 788              		.section	.text.LCD_DisplayON,"ax",%progbits
 789              		.align	2
 790              		.global	LCD_DisplayON
 791              		.thumb
 792              		.thumb_func
 794              	LCD_DisplayON:
 795              	.LFB76:
 246:./Src/hd44780.c **** 
 247:./Src/hd44780.c **** LCD_RESULT LCD_DisplayON(LCD_PCF8574_HandleTypeDef* handle) {
 796              		.loc 1 247 0
 797              		.cfi_startproc
 798              		@ args = 0, pretend = 0, frame = 0
 799              		@ frame_needed = 0, uses_anonymous_args = 0
 800              	.LVL79:
 801 0000 08B5     		push	{r3, lr}
 802              	.LCFI18:
 803              		.cfi_def_cfa_offset 8
 804              		.cfi_offset 3, -8
 805              		.cfi_offset 14, -4
 248:./Src/hd44780.c **** 	handle->D = 1;
 806              		.loc 1 248 0
 807 0002 0123     		movs	r3, #1
 808 0004 4370     		strb	r3, [r0, #1]
 809              	.LVL80:
 249:./Src/hd44780.c **** 	uint8_t cmd = 0;
 250:./Src/hd44780.c **** 	cmd = cmd | (1 << 3);
 251:./Src/hd44780.c **** 	cmd = cmd | (handle->D << 2);
 252:./Src/hd44780.c **** 	cmd = cmd | (handle->C << 1);
 810              		.loc 1 252 0
 811 0006 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 812 0008 5B00     		lsls	r3, r3, #1
 813 000a 43F00C03 		orr	r3, r3, #12
 814 000e DBB2     		uxtb	r3, r3
 815              	.LVL81:
 253:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 816              		.loc 1 253 0
 817 0010 C178     		ldrb	r1, [r0, #3]	@ zero_extendqisi2
 818              	.LVL82:
 254:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 819              		.loc 1 254 0
 820 0012 1943     		orrs	r1, r1, r3
 821              	.LVL83:
 822 0014 FFF7FEFF 		bl	LCD_WriteCMD
 823              	.LVL84:
 255:./Src/hd44780.c **** }
 824              		.loc 1 255 0
 825 0018 08BD     		pop	{r3, pc}
 826              		.cfi_endproc
 827              	.LFE76:
 829 001a 00BF     		.section	.text.LCD_DisplayOFF,"ax",%progbits
 830              		.align	2
 831              		.global	LCD_DisplayOFF
 832              		.thumb
ARM GAS  /tmp/ccj6Rwke.s 			page 20


 833              		.thumb_func
 835              	LCD_DisplayOFF:
 836              	.LFB77:
 256:./Src/hd44780.c **** 
 257:./Src/hd44780.c **** LCD_RESULT LCD_DisplayOFF(LCD_PCF8574_HandleTypeDef* handle) {
 837              		.loc 1 257 0
 838              		.cfi_startproc
 839              		@ args = 0, pretend = 0, frame = 0
 840              		@ frame_needed = 0, uses_anonymous_args = 0
 841              	.LVL85:
 842 0000 08B5     		push	{r3, lr}
 843              	.LCFI19:
 844              		.cfi_def_cfa_offset 8
 845              		.cfi_offset 3, -8
 846              		.cfi_offset 14, -4
 258:./Src/hd44780.c **** 	handle->D = 0;
 847              		.loc 1 258 0
 848 0002 0023     		movs	r3, #0
 849 0004 4370     		strb	r3, [r0, #1]
 850              	.LVL86:
 259:./Src/hd44780.c **** 	uint8_t cmd = 0;
 260:./Src/hd44780.c **** 	cmd = cmd | (1 << 3);
 261:./Src/hd44780.c **** 	cmd = cmd | (handle->D << 2);
 262:./Src/hd44780.c **** 	cmd = cmd | (handle->C << 1);
 851              		.loc 1 262 0
 852 0006 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 853 0008 5B00     		lsls	r3, r3, #1
 854 000a 43F00803 		orr	r3, r3, #8
 855 000e DBB2     		uxtb	r3, r3
 856              	.LVL87:
 263:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 857              		.loc 1 263 0
 858 0010 C178     		ldrb	r1, [r0, #3]	@ zero_extendqisi2
 859              	.LVL88:
 264:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 860              		.loc 1 264 0
 861 0012 1943     		orrs	r1, r1, r3
 862              	.LVL89:
 863 0014 FFF7FEFF 		bl	LCD_WriteCMD
 864              	.LVL90:
 265:./Src/hd44780.c **** }
 865              		.loc 1 265 0
 866 0018 08BD     		pop	{r3, pc}
 867              		.cfi_endproc
 868              	.LFE77:
 870 001a 00BF     		.section	.text.LCD_CursorON,"ax",%progbits
 871              		.align	2
 872              		.global	LCD_CursorON
 873              		.thumb
 874              		.thumb_func
 876              	LCD_CursorON:
 877              	.LFB78:
 266:./Src/hd44780.c **** 
 267:./Src/hd44780.c **** LCD_RESULT LCD_CursorON(LCD_PCF8574_HandleTypeDef* handle, uint8_t blink) {
 878              		.loc 1 267 0
 879              		.cfi_startproc
 880              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccj6Rwke.s 			page 21


 881              		@ frame_needed = 0, uses_anonymous_args = 0
 882              	.LVL91:
 883 0000 08B5     		push	{r3, lr}
 884              	.LCFI20:
 885              		.cfi_def_cfa_offset 8
 886              		.cfi_offset 3, -8
 887              		.cfi_offset 14, -4
 268:./Src/hd44780.c **** 	handle->C = 1;
 888              		.loc 1 268 0
 889 0002 0122     		movs	r2, #1
 890 0004 8270     		strb	r2, [r0, #2]
 269:./Src/hd44780.c **** 	blink &= 1;
 891              		.loc 1 269 0
 892 0006 1140     		ands	r1, r1, r2
 893              	.LVL92:
 270:./Src/hd44780.c **** 	handle->B = blink;
 894              		.loc 1 270 0
 895 0008 C170     		strb	r1, [r0, #3]
 896              	.LVL93:
 271:./Src/hd44780.c **** 	uint8_t cmd = 0;
 272:./Src/hd44780.c **** 	cmd = cmd | (1 << 3);
 273:./Src/hd44780.c **** 	cmd = cmd | (handle->D << 2);
 897              		.loc 1 273 0
 898 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 899 000c 9B00     		lsls	r3, r3, #2
 900 000e 43F00803 		orr	r3, r3, #8
 901 0012 5BB2     		sxtb	r3, r3
 902              	.LVL94:
 274:./Src/hd44780.c **** 	cmd = cmd | (handle->C << 1);
 903              		.loc 1 274 0
 904 0014 43F00203 		orr	r3, r3, #2
 905              	.LVL95:
 906 0018 DBB2     		uxtb	r3, r3
 907              	.LVL96:
 275:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 276:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 908              		.loc 1 276 0
 909 001a 1943     		orrs	r1, r1, r3
 910              	.LVL97:
 911 001c FFF7FEFF 		bl	LCD_WriteCMD
 912              	.LVL98:
 277:./Src/hd44780.c **** }
 913              		.loc 1 277 0
 914 0020 08BD     		pop	{r3, pc}
 915              		.cfi_endproc
 916              	.LFE78:
 918 0022 00BF     		.section	.text.LCD_CursorOFF,"ax",%progbits
 919              		.align	2
 920              		.global	LCD_CursorOFF
 921              		.thumb
 922              		.thumb_func
 924              	LCD_CursorOFF:
 925              	.LFB79:
 278:./Src/hd44780.c **** 
 279:./Src/hd44780.c **** LCD_RESULT LCD_CursorOFF(LCD_PCF8574_HandleTypeDef* handle) {
 926              		.loc 1 279 0
 927              		.cfi_startproc
ARM GAS  /tmp/ccj6Rwke.s 			page 22


 928              		@ args = 0, pretend = 0, frame = 0
 929              		@ frame_needed = 0, uses_anonymous_args = 0
 930              	.LVL99:
 931 0000 08B5     		push	{r3, lr}
 932              	.LCFI21:
 933              		.cfi_def_cfa_offset 8
 934              		.cfi_offset 3, -8
 935              		.cfi_offset 14, -4
 280:./Src/hd44780.c **** 	handle->C = 0;
 936              		.loc 1 280 0
 937 0002 0023     		movs	r3, #0
 938 0004 8370     		strb	r3, [r0, #2]
 939              	.LVL100:
 281:./Src/hd44780.c **** 	uint8_t cmd = 0;
 282:./Src/hd44780.c **** 	cmd = cmd | (1 << 3);
 283:./Src/hd44780.c **** 	cmd = cmd | (handle->D << 2);
 940              		.loc 1 283 0
 941 0006 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 942 0008 9B00     		lsls	r3, r3, #2
 943 000a 43F00803 		orr	r3, r3, #8
 944              	.LVL101:
 284:./Src/hd44780.c **** 	cmd = cmd | (handle->C << 1);
 945              		.loc 1 284 0
 946 000e 03F0FC03 		and	r3, r3, #252
 947              	.LVL102:
 285:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 948              		.loc 1 285 0
 949 0012 C178     		ldrb	r1, [r0, #3]	@ zero_extendqisi2
 950              	.LVL103:
 286:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 951              		.loc 1 286 0
 952 0014 1943     		orrs	r1, r1, r3
 953              	.LVL104:
 954 0016 FFF7FEFF 		bl	LCD_WriteCMD
 955              	.LVL105:
 287:./Src/hd44780.c **** }
 956              		.loc 1 287 0
 957 001a 08BD     		pop	{r3, pc}
 958              		.cfi_endproc
 959              	.LFE79:
 961              		.section	.text.LCD_ShiftCursor,"ax",%progbits
 962              		.align	2
 963              		.global	LCD_ShiftCursor
 964              		.thumb
 965              		.thumb_func
 967              	LCD_ShiftCursor:
 968              	.LFB80:
 288:./Src/hd44780.c **** 
 289:./Src/hd44780.c **** LCD_RESULT LCD_ShiftCursor(LCD_PCF8574_HandleTypeDef* handle, uint8_t direction,
 290:./Src/hd44780.c **** 		uint8_t steps) {
 969              		.loc 1 290 0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 0
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973              	.LVL106:
 974 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 975              	.LCFI22:
ARM GAS  /tmp/ccj6Rwke.s 			page 23


 976              		.cfi_def_cfa_offset 24
 977              		.cfi_offset 3, -24
 978              		.cfi_offset 4, -20
 979              		.cfi_offset 5, -16
 980              		.cfi_offset 6, -12
 981              		.cfi_offset 7, -8
 982              		.cfi_offset 14, -4
 983 0002 0746     		mov	r7, r0
 984 0004 1646     		mov	r6, r2
 291:./Src/hd44780.c **** 	direction &= 1;
 985              		.loc 1 291 0
 986 0006 01F00101 		and	r1, r1, #1
 987              	.LVL107:
 292:./Src/hd44780.c **** 
 293:./Src/hd44780.c **** 	uint8_t cmd = 0;
 294:./Src/hd44780.c **** 	cmd |= 1 << 4;
 295:./Src/hd44780.c **** 	cmd |= direction << 2;
 988              		.loc 1 295 0
 989 000a 8D00     		lsls	r5, r1, #2
 990 000c 45F01005 		orr	r5, r5, #16
 991 0010 EDB2     		uxtb	r5, r5
 992              	.LVL108:
 296:./Src/hd44780.c **** 
 297:./Src/hd44780.c **** 	int i = 0;
 298:./Src/hd44780.c **** 	for (i = 0; i < steps; i++) {
 993              		.loc 1 298 0
 994 0012 0024     		movs	r4, #0
 995 0014 05E0     		b	.L68
 996              	.LVL109:
 997              	.L70:
 299:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 998              		.loc 1 299 0
 999 0016 2946     		mov	r1, r5
 1000 0018 3846     		mov	r0, r7
 1001 001a FFF7FEFF 		bl	LCD_WriteCMD
 1002              	.LVL110:
 1003 001e 20B9     		cbnz	r0, .L71
 298:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 1004              		.loc 1 298 0 discriminator 2
 1005 0020 0134     		adds	r4, r4, #1
 1006              	.LVL111:
 1007              	.L68:
 298:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 1008              		.loc 1 298 0 is_stmt 0 discriminator 1
 1009 0022 B442     		cmp	r4, r6
 1010 0024 F7DB     		blt	.L70
 300:./Src/hd44780.c **** 			//handle->errorCallback(LCD_ERROR);
 301:./Src/hd44780.c **** 			return LCD_ERROR;
 302:./Src/hd44780.c **** 		}
 303:./Src/hd44780.c **** 	}
 304:./Src/hd44780.c **** 	return LCD_OK;
 1011              		.loc 1 304 0 is_stmt 1
 1012 0026 0020     		movs	r0, #0
 1013 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1014              	.LVL112:
 1015              	.L71:
 301:./Src/hd44780.c **** 		}
ARM GAS  /tmp/ccj6Rwke.s 			page 24


 1016              		.loc 1 301 0
 1017 002a 0120     		movs	r0, #1
 305:./Src/hd44780.c **** }
 1018              		.loc 1 305 0
 1019 002c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1020              		.cfi_endproc
 1021              	.LFE80:
 1023 002e 00BF     		.section	.text.LCD_ShiftDisplay,"ax",%progbits
 1024              		.align	2
 1025              		.global	LCD_ShiftDisplay
 1026              		.thumb
 1027              		.thumb_func
 1029              	LCD_ShiftDisplay:
 1030              	.LFB81:
 306:./Src/hd44780.c **** 
 307:./Src/hd44780.c **** LCD_RESULT LCD_ShiftDisplay(LCD_PCF8574_HandleTypeDef* handle,
 308:./Src/hd44780.c **** 		uint8_t direction, uint8_t steps) {
 1031              		.loc 1 308 0
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 0
 1034              		@ frame_needed = 0, uses_anonymous_args = 0
 1035              	.LVL113:
 1036 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1037              	.LCFI23:
 1038              		.cfi_def_cfa_offset 24
 1039              		.cfi_offset 3, -24
 1040              		.cfi_offset 4, -20
 1041              		.cfi_offset 5, -16
 1042              		.cfi_offset 6, -12
 1043              		.cfi_offset 7, -8
 1044              		.cfi_offset 14, -4
 1045 0002 0746     		mov	r7, r0
 1046 0004 1646     		mov	r6, r2
 309:./Src/hd44780.c **** 	direction &= 1;
 1047              		.loc 1 309 0
 1048 0006 01F00101 		and	r1, r1, #1
 1049              	.LVL114:
 310:./Src/hd44780.c **** 
 311:./Src/hd44780.c **** 	uint8_t cmd = 0;
 312:./Src/hd44780.c **** 	cmd |= 1 << 4;
 313:./Src/hd44780.c **** 	cmd |= 1 << 3;
 314:./Src/hd44780.c **** 	cmd |= direction << 2;
 1050              		.loc 1 314 0
 1051 000a 8D00     		lsls	r5, r1, #2
 1052 000c 45F01805 		orr	r5, r5, #24
 1053 0010 EDB2     		uxtb	r5, r5
 1054              	.LVL115:
 315:./Src/hd44780.c **** 
 316:./Src/hd44780.c **** 	int i = 0;
 317:./Src/hd44780.c **** 	for (i = 0; i < steps; i++) {
 1055              		.loc 1 317 0
 1056 0012 0024     		movs	r4, #0
 1057 0014 05E0     		b	.L74
 1058              	.LVL116:
 1059              	.L76:
 318:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 1060              		.loc 1 318 0
ARM GAS  /tmp/ccj6Rwke.s 			page 25


 1061 0016 2946     		mov	r1, r5
 1062 0018 3846     		mov	r0, r7
 1063 001a FFF7FEFF 		bl	LCD_WriteCMD
 1064              	.LVL117:
 1065 001e 20B9     		cbnz	r0, .L77
 317:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 1066              		.loc 1 317 0 discriminator 2
 1067 0020 0134     		adds	r4, r4, #1
 1068              	.LVL118:
 1069              	.L74:
 317:./Src/hd44780.c **** 		if (LCD_WriteCMD(handle, cmd) != LCD_OK) {
 1070              		.loc 1 317 0 is_stmt 0 discriminator 1
 1071 0022 B442     		cmp	r4, r6
 1072 0024 F7DB     		blt	.L76
 319:./Src/hd44780.c **** 			//handle->errorCallback(LCD_ERROR);
 320:./Src/hd44780.c **** 			return LCD_ERROR;
 321:./Src/hd44780.c **** 		}
 322:./Src/hd44780.c **** 	}
 323:./Src/hd44780.c **** 	return LCD_OK;
 1073              		.loc 1 323 0 is_stmt 1
 1074 0026 0020     		movs	r0, #0
 1075 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1076              	.LVL119:
 1077              	.L77:
 320:./Src/hd44780.c **** 		}
 1078              		.loc 1 320 0
 1079 002a 0120     		movs	r0, #1
 324:./Src/hd44780.c **** }
 1080              		.loc 1 324 0
 1081 002c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1082              		.cfi_endproc
 1083              	.LFE81:
 1085 002e 00BF     		.section	.text.LCD_WriteNumber,"ax",%progbits
 1086              		.align	2
 1087              		.global	LCD_WriteNumber
 1088              		.thumb
 1089              		.thumb_func
 1091              	LCD_WriteNumber:
 1092              	.LFB82:
 325:./Src/hd44780.c **** 
 326:./Src/hd44780.c **** LCD_RESULT LCD_WriteNumber(LCD_PCF8574_HandleTypeDef* handle, unsigned long n,
 327:./Src/hd44780.c **** 		uint8_t base) {
 1093              		.loc 1 327 0
 1094              		.cfi_startproc
 1095              		@ args = 0, pretend = 0, frame = 40
 1096              		@ frame_needed = 0, uses_anonymous_args = 0
 1097              	.LVL120:
 328:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 1098              		.loc 1 328 0
 1099 0000 114B     		ldr	r3, .L88
 1100 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1101 0004 E3B9     		cbnz	r3, .L80
 327:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 1102              		.loc 1 327 0
 1103 0006 30B5     		push	{r4, r5, lr}
 1104              	.LCFI24:
 1105              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccj6Rwke.s 			page 26


 1106              		.cfi_offset 4, -12
 1107              		.cfi_offset 5, -8
 1108              		.cfi_offset 14, -4
 1109 0008 8BB0     		sub	sp, sp, #44
 1110              	.LCFI25:
 1111              		.cfi_def_cfa_offset 56
 1112              	.LVL121:
 329:./Src/hd44780.c **** 	char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 330:./Src/hd44780.c **** 	char *str = &buf[sizeof(buf) - 1];
 331:./Src/hd44780.c **** 
 332:./Src/hd44780.c **** 	*str = '\0';
 1113              		.loc 1 332 0
 1114 000a 8DF82430 		strb	r3, [sp, #36]
 333:./Src/hd44780.c **** 
 334:./Src/hd44780.c **** 	// prevent crash if called with base == 1
 335:./Src/hd44780.c **** 	if (base < 2)
 1115              		.loc 1 335 0
 1116 000e 012A     		cmp	r2, #1
 1117 0010 00D8     		bhi	.L81
 336:./Src/hd44780.c **** 		base = 10;
 1118              		.loc 1 336 0
 1119 0012 0A22     		movs	r2, #10
 1120              	.LVL122:
 1121              	.L81:
 1122 0014 09AD     		add	r5, sp, #36
 1123              	.LVL123:
 1124              	.L84:
 1125              	.LBB2:
 337:./Src/hd44780.c **** 
 338:./Src/hd44780.c **** 	do {
 339:./Src/hd44780.c **** 		unsigned long m = n;
 340:./Src/hd44780.c **** 		n /= base;
 1126              		.loc 1 340 0
 1127 0016 B1FBF2F4 		udiv	r4, r1, r2
 1128              	.LVL124:
 341:./Src/hd44780.c **** 		char c = m - base * n;
 1129              		.loc 1 341 0
 1130 001a 04FB1213 		mls	r3, r4, r2, r1
 1131 001e DBB2     		uxtb	r3, r3
 1132              	.LVL125:
 342:./Src/hd44780.c **** 		*--str = c < 10 ? c + '0' : c + 'A' - 10;
 1133              		.loc 1 342 0
 1134 0020 013D     		subs	r5, r5, #1
 1135              	.LVL126:
 1136 0022 092B     		cmp	r3, #9
 1137 0024 02D8     		bhi	.L82
 1138              		.loc 1 342 0 is_stmt 0 discriminator 1
 1139 0026 3033     		adds	r3, r3, #48
 1140              	.LVL127:
 1141 0028 DBB2     		uxtb	r3, r3
 1142              	.LVL128:
 1143 002a 01E0     		b	.L83
 1144              	.LVL129:
 1145              	.L82:
 1146              		.loc 1 342 0 discriminator 2
 1147 002c 3733     		adds	r3, r3, #55
 1148              	.LVL130:
ARM GAS  /tmp/ccj6Rwke.s 			page 27


 1149 002e DBB2     		uxtb	r3, r3
 1150              	.LVL131:
 1151              	.L83:
 1152              		.loc 1 342 0 discriminator 4
 1153 0030 2B70     		strb	r3, [r5]
 340:./Src/hd44780.c **** 		char c = m - base * n;
 1154              		.loc 1 340 0 is_stmt 1 discriminator 4
 1155 0032 2146     		mov	r1, r4
 1156              	.LVL132:
 1157              	.LBE2:
 343:./Src/hd44780.c **** 	} while (n);
 1158              		.loc 1 343 0 discriminator 4
 1159 0034 002C     		cmp	r4, #0
 1160 0036 EED1     		bne	.L84
 1161              	.LVL133:
 344:./Src/hd44780.c **** 	return LCD_WriteString(handle, str);
 1162              		.loc 1 344 0
 1163 0038 2946     		mov	r1, r5
 1164              	.LVL134:
 1165 003a FFF7FEFF 		bl	LCD_WriteString
 1166              	.LVL135:
 1167 003e 00E0     		b	.L79
 1168              	.LVL136:
 1169              	.L80:
 1170              	.LCFI26:
 1171              		.cfi_def_cfa_offset 0
 1172              		.cfi_restore 4
 1173              		.cfi_restore 5
 1174              		.cfi_restore 14
 1175              	.LVL137:
 328:./Src/hd44780.c **** 	char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 1176              		.loc 1 328 0
 1177 0040 7047     		bx	lr
 1178              	.LVL138:
 1179              	.L79:
 1180              	.LCFI27:
 1181              		.cfi_def_cfa_offset 56
 1182              		.cfi_offset 4, -12
 1183              		.cfi_offset 5, -8
 1184              		.cfi_offset 14, -4
 345:./Src/hd44780.c **** }
 1185              		.loc 1 345 0
 1186 0042 0BB0     		add	sp, sp, #44
 1187              	.LCFI28:
 1188              		.cfi_def_cfa_offset 12
 1189              		@ sp needed
 1190 0044 30BD     		pop	{r4, r5, pc}
 1191              	.LVL139:
 1192              	.L89:
 1193 0046 00BF     		.align	2
 1194              	.L88:
 1195 0048 00000000 		.word	.LANCHOR0
 1196              		.cfi_endproc
 1197              	.LFE82:
 1199              		.global	__aeabi_dcmplt
 1200              		.global	__aeabi_ddiv
 1201              		.global	__aeabi_dadd
ARM GAS  /tmp/ccj6Rwke.s 			page 28


 1202              		.global	__aeabi_d2uiz
 1203              		.global	__aeabi_ui2d
 1204              		.global	__aeabi_dsub
 1205              		.global	__aeabi_dmul
 1206              		.global	__aeabi_d2iz
 1207              		.global	__aeabi_i2d
 1208              		.section	.text.LCD_WriteFloat,"ax",%progbits
 1209              		.align	2
 1210              		.global	LCD_WriteFloat
 1211              		.thumb
 1212              		.thumb_func
 1214              	LCD_WriteFloat:
 1215              	.LFB83:
 346:./Src/hd44780.c **** 
 347:./Src/hd44780.c **** LCD_RESULT LCD_WriteFloat(LCD_PCF8574_HandleTypeDef* handle, double number,
 348:./Src/hd44780.c **** 		uint8_t digits) {
 1216              		.loc 1 348 0
 1217              		.cfi_startproc
 1218              		@ args = 4, pretend = 0, frame = 0
 1219              		@ frame_needed = 0, uses_anonymous_args = 0
 1220              	.LVL140:
 1221 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1222              	.LCFI29:
 1223              		.cfi_def_cfa_offset 24
 1224              		.cfi_offset 4, -24
 1225              		.cfi_offset 5, -20
 1226              		.cfi_offset 6, -16
 1227              		.cfi_offset 7, -12
 1228              		.cfi_offset 8, -8
 1229              		.cfi_offset 14, -4
 1230 0004 1E46     		mov	r6, r3
 1231 0006 9DF81850 		ldrb	r5, [sp, #24]	@ zero_extendqisi2
 349:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 1232              		.loc 1 349 0
 1233 000a 324B     		ldr	r3, .L101
 1234 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1235 000e 002B     		cmp	r3, #0
 1236 0010 5DD1     		bne	.L91
 1237 0012 8046     		mov	r8, r0
 1238 0014 1746     		mov	r7, r2
 350:./Src/hd44780.c **** 	// Handle negative numbers
 351:./Src/hd44780.c **** 	if (number < 0.0) {
 1239              		.loc 1 351 0
 1240 0016 0022     		movs	r2, #0
 1241              	.LVL141:
 1242 0018 0023     		movs	r3, #0
 1243 001a 3846     		mov	r0, r7
 1244              	.LVL142:
 1245 001c 3146     		mov	r1, r6
 1246 001e FFF7FEFF 		bl	__aeabi_dcmplt
 1247              	.LVL143:
 1248 0022 28B1     		cbz	r0, .L92
 352:./Src/hd44780.c **** 		LCD_WriteString(handle,"-");
 1249              		.loc 1 352 0
 1250 0024 2C49     		ldr	r1, .L101+4
 1251 0026 4046     		mov	r0, r8
 1252 0028 FFF7FEFF 		bl	LCD_WriteString
ARM GAS  /tmp/ccj6Rwke.s 			page 29


 1253              	.LVL144:
 353:./Src/hd44780.c **** 		number = -number;
 1254              		.loc 1 353 0
 1255 002c 06F10046 		add	r6, r6, #-2147483648
 1256              	.LVL145:
 1257              	.L92:
 1258              	.LBB3:
 354:./Src/hd44780.c **** 	}
 355:./Src/hd44780.c **** 
 356:./Src/hd44780.c **** 	// Round correctly so that print(1.999, 2) prints as "2.00"
 357:./Src/hd44780.c **** 	double rounding = 0.5;
 358:./Src/hd44780.c **** 	for (uint8_t i = 0; i < digits; ++i)
 1259              		.loc 1 358 0
 1260 0030 0024     		movs	r4, #0
 1261              	.LBE3:
 357:./Src/hd44780.c **** 	for (uint8_t i = 0; i < digits; ++i)
 1262              		.loc 1 357 0
 1263 0032 0020     		movs	r0, #0
 1264 0034 2949     		ldr	r1, .L101+8
 1265              	.LBB4:
 1266              		.loc 1 358 0
 1267 0036 05E0     		b	.L94
 1268              	.LVL146:
 1269              	.L95:
 359:./Src/hd44780.c **** 		rounding /= 10.0;
 1270              		.loc 1 359 0 discriminator 3
 1271 0038 0022     		movs	r2, #0
 1272 003a 294B     		ldr	r3, .L101+12
 1273 003c FFF7FEFF 		bl	__aeabi_ddiv
 1274              	.LVL147:
 358:./Src/hd44780.c **** 		rounding /= 10.0;
 1275              		.loc 1 358 0 discriminator 3
 1276 0040 0134     		adds	r4, r4, #1
 1277              	.LVL148:
 1278 0042 E4B2     		uxtb	r4, r4
 1279              	.LVL149:
 1280              	.L94:
 358:./Src/hd44780.c **** 		rounding /= 10.0;
 1281              		.loc 1 358 0 is_stmt 0 discriminator 1
 1282 0044 AC42     		cmp	r4, r5
 1283 0046 F7D3     		bcc	.L95
 1284              	.LBE4:
 360:./Src/hd44780.c **** 
 361:./Src/hd44780.c **** 	number += rounding;
 1285              		.loc 1 361 0 is_stmt 1
 1286 0048 0246     		mov	r2, r0
 1287 004a 0B46     		mov	r3, r1
 1288 004c 3846     		mov	r0, r7
 1289              	.LVL150:
 1290 004e 3146     		mov	r1, r6
 1291 0050 FFF7FEFF 		bl	__aeabi_dadd
 1292              	.LVL151:
 1293 0054 0646     		mov	r6, r0
 1294              	.LVL152:
 1295 0056 0F46     		mov	r7, r1
 1296              	.LVL153:
 362:./Src/hd44780.c **** 
ARM GAS  /tmp/ccj6Rwke.s 			page 30


 363:./Src/hd44780.c **** 	// Extract the integer part of the number and print it
 364:./Src/hd44780.c **** 	unsigned long int_part = (unsigned long) number;
 1297              		.loc 1 364 0
 1298 0058 FFF7FEFF 		bl	__aeabi_d2uiz
 1299              	.LVL154:
 1300 005c 0446     		mov	r4, r0
 1301              	.LVL155:
 365:./Src/hd44780.c **** 	double remainder = number - (double) int_part;
 1302              		.loc 1 365 0
 1303 005e FFF7FEFF 		bl	__aeabi_ui2d
 1304              	.LVL156:
 1305 0062 0246     		mov	r2, r0
 1306 0064 0B46     		mov	r3, r1
 1307 0066 3046     		mov	r0, r6
 1308 0068 3946     		mov	r1, r7
 1309 006a FFF7FEFF 		bl	__aeabi_dsub
 1310              	.LVL157:
 1311 006e 0646     		mov	r6, r0
 1312              	.LVL158:
 1313 0070 0F46     		mov	r7, r1
 1314              	.LVL159:
 366:./Src/hd44780.c **** 	LCD_WriteNumber(handle,int_part,10);
 1315              		.loc 1 366 0
 1316 0072 0A22     		movs	r2, #10
 1317 0074 2146     		mov	r1, r4
 1318 0076 4046     		mov	r0, r8
 1319 0078 FFF7FEFF 		bl	LCD_WriteNumber
 1320              	.LVL160:
 367:./Src/hd44780.c **** 
 368:./Src/hd44780.c **** 	// Print the decimal point, but only if there are digits beyond
 369:./Src/hd44780.c **** 	if (digits > 0) {
 1321              		.loc 1 369 0
 1322 007c 05B3     		cbz	r5, .L97
 370:./Src/hd44780.c **** 		LCD_WriteString(handle,".");
 1323              		.loc 1 370 0
 1324 007e 1949     		ldr	r1, .L101+16
 1325 0080 4046     		mov	r0, r8
 1326 0082 FFF7FEFF 		bl	LCD_WriteString
 1327              	.LVL161:
 1328 0086 1BE0     		b	.L97
 1329              	.LVL162:
 1330              	.L98:
 1331              	.LBB5:
 371:./Src/hd44780.c **** 	}
 372:./Src/hd44780.c **** 
 373:./Src/hd44780.c **** 	// Extract digits from the remainder one at a time
 374:./Src/hd44780.c **** 	while (digits-- > 0) {
 375:./Src/hd44780.c **** 		remainder *= 10.0;
 1332              		.loc 1 375 0
 1333 0088 0022     		movs	r2, #0
 1334 008a 154B     		ldr	r3, .L101+12
 1335 008c 3046     		mov	r0, r6
 1336 008e 3946     		mov	r1, r7
 1337 0090 FFF7FEFF 		bl	__aeabi_dmul
 1338              	.LVL163:
 1339 0094 0646     		mov	r6, r0
 1340              	.LVL164:
ARM GAS  /tmp/ccj6Rwke.s 			page 31


 1341 0096 0F46     		mov	r7, r1
 1342              	.LVL165:
 376:./Src/hd44780.c **** 		int toPrint = (int)(remainder);
 1343              		.loc 1 376 0
 1344 0098 FFF7FEFF 		bl	__aeabi_d2iz
 1345              	.LVL166:
 1346 009c 0546     		mov	r5, r0
 1347              	.LVL167:
 377:./Src/hd44780.c **** 		LCD_WriteNumber(handle,toPrint,10);
 1348              		.loc 1 377 0
 1349 009e 0A22     		movs	r2, #10
 1350 00a0 0146     		mov	r1, r0
 1351 00a2 4046     		mov	r0, r8
 1352              	.LVL168:
 1353 00a4 FFF7FEFF 		bl	LCD_WriteNumber
 1354              	.LVL169:
 378:./Src/hd44780.c **** 		remainder -= toPrint;
 1355              		.loc 1 378 0
 1356 00a8 2846     		mov	r0, r5
 1357 00aa FFF7FEFF 		bl	__aeabi_i2d
 1358              	.LVL170:
 1359 00ae 0246     		mov	r2, r0
 1360 00b0 0B46     		mov	r3, r1
 1361 00b2 3046     		mov	r0, r6
 1362 00b4 3946     		mov	r1, r7
 1363 00b6 FFF7FEFF 		bl	__aeabi_dsub
 1364              	.LVL171:
 1365 00ba 0646     		mov	r6, r0
 1366              	.LVL172:
 1367 00bc 0F46     		mov	r7, r1
 1368              	.LVL173:
 1369              	.LBE5:
 374:./Src/hd44780.c **** 		remainder *= 10.0;
 1370              		.loc 1 374 0
 1371 00be 2546     		mov	r5, r4
 1372              	.LVL174:
 1373              	.L97:
 1374 00c0 6B1E     		subs	r3, r5, #1
 1375 00c2 DCB2     		uxtb	r4, r3
 1376              	.LVL175:
 1377 00c4 002D     		cmp	r5, #0
 1378 00c6 DFD1     		bne	.L98
 379:./Src/hd44780.c **** 	}
 380:./Src/hd44780.c **** 	return LCD_OK;
 1379              		.loc 1 380 0
 1380 00c8 0020     		movs	r0, #0
 1381 00ca BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1382              	.LVL176:
 1383              	.L91:
 1384              	.LVL177:
 381:./Src/hd44780.c **** }
 1385              		.loc 1 381 0
 1386 00ce BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1387              	.LVL178:
 1388              	.L102:
 1389 00d2 00BF     		.align	2
 1390              	.L101:
ARM GAS  /tmp/ccj6Rwke.s 			page 32


 1391 00d4 00000000 		.word	.LANCHOR0
 1392 00d8 00000000 		.word	.LC0
 1393 00dc 0000E03F 		.word	1071644672
 1394 00e0 00002440 		.word	1076101120
 1395 00e4 04000000 		.word	.LC1
 1396              		.cfi_endproc
 1397              	.LFE83:
 1399              		.section	.text.LCD_EntryModeSet,"ax",%progbits
 1400              		.align	2
 1401              		.global	LCD_EntryModeSet
 1402              		.thumb
 1403              		.thumb_func
 1405              	LCD_EntryModeSet:
 1406              	.LFB84:
 382:./Src/hd44780.c **** 
 383:./Src/hd44780.c **** LCD_RESULT LCD_EntryModeSet(LCD_PCF8574_HandleTypeDef* handle,
 384:./Src/hd44780.c **** 		LCD_DIRECTION_INC_DEC direction, LCD_SHIFT shift) {
 1407              		.loc 1 384 0
 1408              		.cfi_startproc
 1409              		@ args = 0, pretend = 0, frame = 0
 1410              		@ frame_needed = 0, uses_anonymous_args = 0
 1411              	.LVL179:
 1412 0000 08B5     		push	{r3, lr}
 1413              	.LCFI30:
 1414              		.cfi_def_cfa_offset 8
 1415              		.cfi_offset 3, -8
 1416              		.cfi_offset 14, -4
 1417              	.LVL180:
 385:./Src/hd44780.c **** 
 386:./Src/hd44780.c **** 	uint8_t cmd = 0;
 387:./Src/hd44780.c **** 	cmd |= 1 << 2;
 388:./Src/hd44780.c **** 	cmd |= direction << 1;
 1418              		.loc 1 388 0
 1419 0002 4900     		lsls	r1, r1, #1
 1420              	.LVL181:
 1421 0004 41F00401 		orr	r1, r1, #4
 1422 0008 C9B2     		uxtb	r1, r1
 1423              	.LVL182:
 389:./Src/hd44780.c **** 	cmd |= shift;
 390:./Src/hd44780.c **** 
 391:./Src/hd44780.c **** 	return LCD_WriteCMD(handle, cmd);
 1424              		.loc 1 391 0
 1425 000a 1143     		orrs	r1, r1, r2
 1426              	.LVL183:
 1427 000c FFF7FEFF 		bl	LCD_WriteCMD
 1428              	.LVL184:
 392:./Src/hd44780.c **** 
 393:./Src/hd44780.c **** }
 1429              		.loc 1 393 0
 1430 0010 08BD     		pop	{r3, pc}
 1431              		.cfi_endproc
 1432              	.LFE84:
 1434 0012 00BF     		.section	.text.LCD_Init,"ax",%progbits
 1435              		.align	2
 1436              		.global	LCD_Init
 1437              		.thumb
 1438              		.thumb_func
ARM GAS  /tmp/ccj6Rwke.s 			page 33


 1440              	LCD_Init:
 1441              	.LFB68:
  49:./Src/hd44780.c **** 	handle->D = 1;
 1442              		.loc 1 49 0
 1443              		.cfi_startproc
 1444              		@ args = 0, pretend = 0, frame = 0
 1445              		@ frame_needed = 0, uses_anonymous_args = 0
 1446              	.LVL185:
  50:./Src/hd44780.c **** 	handle->B = 0;
 1447              		.loc 1 50 0
 1448 0000 0123     		movs	r3, #1
 1449 0002 4370     		strb	r3, [r0, #1]
  51:./Src/hd44780.c **** 	handle->C = 0;
 1450              		.loc 1 51 0
 1451 0004 0023     		movs	r3, #0
 1452 0006 C370     		strb	r3, [r0, #3]
  52:./Src/hd44780.c **** 	if (handle->type == TYPE0) {
 1453              		.loc 1 52 0
 1454 0008 8370     		strb	r3, [r0, #2]
  53:./Src/hd44780.c **** 		handle->pins = PCF8574_Type0Pins;
 1455              		.loc 1 53 0
 1456 000a 90F83C30 		ldrb	r3, [r0, #60]	@ zero_extendqisi2
 1457 000e 002B     		cmp	r3, #0
 1458 0010 40F08F80 		bne	.L107
  49:./Src/hd44780.c **** 	handle->D = 1;
 1459              		.loc 1 49 0
 1460 0014 10B5     		push	{r4, lr}
 1461              	.LCFI31:
 1462              		.cfi_def_cfa_offset 8
 1463              		.cfi_offset 4, -8
 1464              		.cfi_offset 14, -4
 1465 0016 0446     		mov	r4, r0
  54:./Src/hd44780.c **** 	} else {
 1466              		.loc 1 54 0
 1467 0018 484B     		ldr	r3, .L110
 1468 001a 8363     		str	r3, [r0, #56]
  59:./Src/hd44780.c **** 		//handle->errorCallback(LCD_ERROR);
 1469              		.loc 1 59 0
 1470 001c 4030     		adds	r0, r0, #64
 1471              	.LVL186:
 1472 001e FFF7FEFF 		bl	PCF8574_Init
 1473              	.LVL187:
 1474 0022 0028     		cmp	r0, #0
 1475 0024 40F08780 		bne	.L108
  64:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RS);
 1476              		.loc 1 64 0
 1477 0028 3220     		movs	r0, #50
 1478 002a FFF7FEFF 		bl	HAL_Delay
 1479              	.LVL188:
  65:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_RW);
 1480              		.loc 1 65 0
 1481 002e 0422     		movs	r2, #4
 1482 0030 0021     		movs	r1, #0
 1483 0032 2046     		mov	r0, r4
 1484 0034 FFF7FEFF 		bl	LCD_StateWriteBit
 1485              	.LVL189:
  66:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
ARM GAS  /tmp/ccj6Rwke.s 			page 34


 1486              		.loc 1 66 0
 1487 0038 0522     		movs	r2, #5
 1488 003a 0021     		movs	r1, #0
 1489 003c 2046     		mov	r0, r4
 1490 003e FFF7FEFF 		bl	LCD_StateWriteBit
 1491              	.LVL190:
  67:./Src/hd44780.c **** 
 1492              		.loc 1 67 0
 1493 0042 0622     		movs	r2, #6
 1494 0044 0021     		movs	r1, #0
 1495 0046 2046     		mov	r0, r4
 1496 0048 FFF7FEFF 		bl	LCD_StateWriteBit
 1497              	.LVL191:
  69:./Src/hd44780.c **** 
 1498              		.loc 1 69 0
 1499 004c 0321     		movs	r1, #3
 1500 004e 2046     		mov	r0, r4
 1501 0050 FFF7FEFF 		bl	LCD_WriteToDataBus
 1502              	.LVL192:
  71:./Src/hd44780.c **** 	HAL_Delay(1);
 1503              		.loc 1 71 0
 1504 0054 0622     		movs	r2, #6
 1505 0056 0121     		movs	r1, #1
 1506 0058 2046     		mov	r0, r4
 1507 005a FFF7FEFF 		bl	LCD_StateWriteBit
 1508              	.LVL193:
  72:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 1509              		.loc 1 72 0
 1510 005e 0120     		movs	r0, #1
 1511 0060 FFF7FEFF 		bl	HAL_Delay
 1512              	.LVL194:
  73:./Src/hd44780.c **** 	HAL_Delay(5);
 1513              		.loc 1 73 0
 1514 0064 0622     		movs	r2, #6
 1515 0066 0021     		movs	r1, #0
 1516 0068 2046     		mov	r0, r4
 1517 006a FFF7FEFF 		bl	LCD_StateWriteBit
 1518              	.LVL195:
  74:./Src/hd44780.c **** 
 1519              		.loc 1 74 0
 1520 006e 0520     		movs	r0, #5
 1521 0070 FFF7FEFF 		bl	HAL_Delay
 1522              	.LVL196:
  76:./Src/hd44780.c **** 
 1523              		.loc 1 76 0
 1524 0074 0321     		movs	r1, #3
 1525 0076 2046     		mov	r0, r4
 1526 0078 FFF7FEFF 		bl	LCD_WriteToDataBus
 1527              	.LVL197:
  78:./Src/hd44780.c **** 	HAL_Delay(1);
 1528              		.loc 1 78 0
 1529 007c 0622     		movs	r2, #6
 1530 007e 0121     		movs	r1, #1
 1531 0080 2046     		mov	r0, r4
 1532 0082 FFF7FEFF 		bl	LCD_StateWriteBit
 1533              	.LVL198:
  79:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
ARM GAS  /tmp/ccj6Rwke.s 			page 35


 1534              		.loc 1 79 0
 1535 0086 0120     		movs	r0, #1
 1536 0088 FFF7FEFF 		bl	HAL_Delay
 1537              	.LVL199:
  80:./Src/hd44780.c **** 	HAL_Delay(1);
 1538              		.loc 1 80 0
 1539 008c 0622     		movs	r2, #6
 1540 008e 0021     		movs	r1, #0
 1541 0090 2046     		mov	r0, r4
 1542 0092 FFF7FEFF 		bl	LCD_StateWriteBit
 1543              	.LVL200:
  81:./Src/hd44780.c **** 
 1544              		.loc 1 81 0
 1545 0096 0120     		movs	r0, #1
 1546 0098 FFF7FEFF 		bl	HAL_Delay
 1547              	.LVL201:
  83:./Src/hd44780.c **** 
 1548              		.loc 1 83 0
 1549 009c 0321     		movs	r1, #3
 1550 009e 2046     		mov	r0, r4
 1551 00a0 FFF7FEFF 		bl	LCD_WriteToDataBus
 1552              	.LVL202:
  85:./Src/hd44780.c **** 	HAL_Delay(1);
 1553              		.loc 1 85 0
 1554 00a4 0622     		movs	r2, #6
 1555 00a6 0121     		movs	r1, #1
 1556 00a8 2046     		mov	r0, r4
 1557 00aa FFF7FEFF 		bl	LCD_StateWriteBit
 1558              	.LVL203:
  86:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 1559              		.loc 1 86 0
 1560 00ae 0120     		movs	r0, #1
 1561 00b0 FFF7FEFF 		bl	HAL_Delay
 1562              	.LVL204:
  87:./Src/hd44780.c **** 	HAL_Delay(1);
 1563              		.loc 1 87 0
 1564 00b4 0622     		movs	r2, #6
 1565 00b6 0021     		movs	r1, #0
 1566 00b8 2046     		mov	r0, r4
 1567 00ba FFF7FEFF 		bl	LCD_StateWriteBit
 1568              	.LVL205:
  88:./Src/hd44780.c **** 
 1569              		.loc 1 88 0
 1570 00be 0120     		movs	r0, #1
 1571 00c0 FFF7FEFF 		bl	HAL_Delay
 1572              	.LVL206:
  90:./Src/hd44780.c **** 
 1573              		.loc 1 90 0
 1574 00c4 0221     		movs	r1, #2
 1575 00c6 2046     		mov	r0, r4
 1576 00c8 FFF7FEFF 		bl	LCD_WriteToDataBus
 1577              	.LVL207:
  92:./Src/hd44780.c **** 	HAL_Delay(1);
 1578              		.loc 1 92 0
 1579 00cc 0622     		movs	r2, #6
 1580 00ce 0121     		movs	r1, #1
 1581 00d0 2046     		mov	r0, r4
ARM GAS  /tmp/ccj6Rwke.s 			page 36


 1582 00d2 FFF7FEFF 		bl	LCD_StateWriteBit
 1583              	.LVL208:
  93:./Src/hd44780.c **** 	LCD_StateWriteBit(handle, 0, LCD_PIN_E);
 1584              		.loc 1 93 0
 1585 00d6 0120     		movs	r0, #1
 1586 00d8 FFF7FEFF 		bl	HAL_Delay
 1587              	.LVL209:
  94:./Src/hd44780.c **** 	HAL_Delay(1);
 1588              		.loc 1 94 0
 1589 00dc 0622     		movs	r2, #6
 1590 00de 0021     		movs	r1, #0
 1591 00e0 2046     		mov	r0, r4
 1592 00e2 FFF7FEFF 		bl	LCD_StateWriteBit
 1593              	.LVL210:
  95:./Src/hd44780.c **** 
 1594              		.loc 1 95 0
 1595 00e6 0120     		movs	r0, #1
 1596 00e8 FFF7FEFF 		bl	HAL_Delay
 1597              	.LVL211:
  98:./Src/hd44780.c **** 	cmd = cmd | (1 << 5);
 1598              		.loc 1 98 0
 1599 00ec 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 1600 00ee C900     		lsls	r1, r1, #3
 1601 00f0 C9B2     		uxtb	r1, r1
 1602              	.LVL212:
 101:./Src/hd44780.c **** 
 1603              		.loc 1 101 0
 1604 00f2 41F02001 		orr	r1, r1, #32
 1605              	.LVL213:
 1606 00f6 2046     		mov	r0, r4
 1607 00f8 FFF7FEFF 		bl	LCD_WriteCMD
 1608              	.LVL214:
 105:./Src/hd44780.c **** 	cmd = cmd | handle->B;
 1609              		.loc 1 105 0
 1610 00fc A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 1611 00fe 5B00     		lsls	r3, r3, #1
 1612 0100 43F00803 		orr	r3, r3, #8
 1613 0104 DBB2     		uxtb	r3, r3
 1614              	.LVL215:
 106:./Src/hd44780.c **** 
 1615              		.loc 1 106 0
 1616 0106 E178     		ldrb	r1, [r4, #3]	@ zero_extendqisi2
 1617              	.LVL216:
 108:./Src/hd44780.c **** 
 1618              		.loc 1 108 0
 1619 0108 1943     		orrs	r1, r1, r3
 1620              	.LVL217:
 1621 010a 2046     		mov	r0, r4
 1622 010c FFF7FEFF 		bl	LCD_WriteCMD
 1623              	.LVL218:
 110:./Src/hd44780.c **** 
 1624              		.loc 1 110 0
 1625 0110 2046     		mov	r0, r4
 1626 0112 FFF7FEFF 		bl	LCD_ClearDisplay
 1627              	.LVL219:
 112:./Src/hd44780.c **** 
 1628              		.loc 1 112 0
ARM GAS  /tmp/ccj6Rwke.s 			page 37


 1629 0116 0022     		movs	r2, #0
 1630 0118 0121     		movs	r1, #1
 1631 011a 2046     		mov	r0, r4
 1632 011c FFF7FEFF 		bl	LCD_EntryModeSet
 1633              	.LVL220:
 114:./Src/hd44780.c **** 
 1634              		.loc 1 114 0
 1635 0120 2046     		mov	r0, r4
 1636 0122 FFF7FEFF 		bl	LCD_DisplayON
 1637              	.LVL221:
 116:./Src/hd44780.c **** 
 1638              		.loc 1 116 0
 1639 0126 0121     		movs	r1, #1
 1640 0128 2046     		mov	r0, r4
 1641 012a FFF7FEFF 		bl	LCD_StateLEDControl
 1642              	.LVL222:
 118:./Src/hd44780.c **** 
 1643              		.loc 1 118 0
 1644 012e 0020     		movs	r0, #0
 1645 0130 10BD     		pop	{r4, pc}
 1646              	.LVL223:
 1647              	.L107:
 1648              	.LCFI32:
 1649              		.cfi_def_cfa_offset 0
 1650              		.cfi_restore 4
 1651              		.cfi_restore 14
  57:./Src/hd44780.c **** 	}
 1652              		.loc 1 57 0
 1653 0132 0120     		movs	r0, #1
 1654              	.LVL224:
 120:./Src/hd44780.c **** 
 1655              		.loc 1 120 0
 1656 0134 7047     		bx	lr
 1657              	.LVL225:
 1658              	.L108:
 1659              	.LCFI33:
 1660              		.cfi_def_cfa_offset 8
 1661              		.cfi_offset 4, -8
 1662              		.cfi_offset 14, -4
  61:./Src/hd44780.c **** 	}
 1663              		.loc 1 61 0
 1664 0136 0120     		movs	r0, #1
 120:./Src/hd44780.c **** 
 1665              		.loc 1 120 0
 1666 0138 10BD     		pop	{r4, pc}
 1667              	.LVL226:
 1668              	.L111:
 1669 013a 00BF     		.align	2
 1670              	.L110:
 1671 013c 00000000 		.word	.LANCHOR1
 1672              		.cfi_endproc
 1673              	.LFE68:
 1675              		.section	.text.LCD_CustomChar,"ax",%progbits
 1676              		.align	2
 1677              		.global	LCD_CustomChar
 1678              		.thumb
 1679              		.thumb_func
ARM GAS  /tmp/ccj6Rwke.s 			page 38


 1681              	LCD_CustomChar:
 1682              	.LFB85:
 394:./Src/hd44780.c **** 
 395:./Src/hd44780.c **** LCD_RESULT LCD_CustomChar(LCD_PCF8574_HandleTypeDef* handle, uint8_t *pattern,
 396:./Src/hd44780.c **** 		uint8_t address) {
 1683              		.loc 1 396 0
 1684              		.cfi_startproc
 1685              		@ args = 0, pretend = 0, frame = 0
 1686              		@ frame_needed = 0, uses_anonymous_args = 0
 1687              	.LVL227:
 397:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 1688              		.loc 1 397 0
 1689 0000 0B4B     		ldr	r3, .L118
 1690 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1691 0004 9BB9     		cbnz	r3, .L113
 396:./Src/hd44780.c **** 	if (LCDerrorFlag) {return;}
 1692              		.loc 1 396 0
 1693 0006 70B5     		push	{r4, r5, r6, lr}
 1694              	.LCFI34:
 1695              		.cfi_def_cfa_offset 16
 1696              		.cfi_offset 4, -16
 1697              		.cfi_offset 5, -12
 1698              		.cfi_offset 6, -8
 1699              		.cfi_offset 14, -4
 1700 0008 0E46     		mov	r6, r1
 1701 000a 0546     		mov	r5, r0
 1702              	.LVL228:
 398:./Src/hd44780.c **** 	uint8_t a = 0;
 399:./Src/hd44780.c **** 	int i = 0;
 400:./Src/hd44780.c **** 	a = 8 * address;
 1703              		.loc 1 400 0
 1704 000c D100     		lsls	r1, r2, #3
 1705              	.LVL229:
 1706 000e C9B2     		uxtb	r1, r1
 1707              	.LVL230:
 401:./Src/hd44780.c **** 	LCD_WriteCMD(handle, a | 0x40);
 1708              		.loc 1 401 0
 1709 0010 41F04001 		orr	r1, r1, #64
 1710              	.LVL231:
 1711 0014 FFF7FEFF 		bl	LCD_WriteCMD
 1712              	.LVL232:
 402:./Src/hd44780.c **** 	for (i = 0; i < 8; i++) {
 1713              		.loc 1 402 0
 1714 0018 0024     		movs	r4, #0
 1715 001a 04E0     		b	.L114
 1716              	.LVL233:
 1717              	.L115:
 403:./Src/hd44780.c **** 		LCD_WriteDATA(handle, pattern[i]);
 1718              		.loc 1 403 0 discriminator 3
 1719 001c 315D     		ldrb	r1, [r6, r4]	@ zero_extendqisi2
 1720 001e 2846     		mov	r0, r5
 1721 0020 FFF7FEFF 		bl	LCD_WriteDATA
 1722              	.LVL234:
 402:./Src/hd44780.c **** 	for (i = 0; i < 8; i++) {
 1723              		.loc 1 402 0 discriminator 3
 1724 0024 0134     		adds	r4, r4, #1
 1725              	.LVL235:
ARM GAS  /tmp/ccj6Rwke.s 			page 39


 1726              	.L114:
 402:./Src/hd44780.c **** 	for (i = 0; i < 8; i++) {
 1727              		.loc 1 402 0 is_stmt 0 discriminator 1
 1728 0026 072C     		cmp	r4, #7
 1729 0028 F8DD     		ble	.L115
 404:./Src/hd44780.c **** 	}
 405:./Src/hd44780.c **** 	return LCD_OK;
 1730              		.loc 1 405 0 is_stmt 1
 1731 002a 0020     		movs	r0, #0
 1732 002c 70BD     		pop	{r4, r5, r6, pc}
 1733              	.LVL236:
 1734              	.L113:
 1735              	.LCFI35:
 1736              		.cfi_def_cfa_offset 0
 1737              		.cfi_restore 4
 1738              		.cfi_restore 5
 1739              		.cfi_restore 6
 1740              		.cfi_restore 14
 1741              	.LVL237:
 397:./Src/hd44780.c **** 	uint8_t a = 0;
 1742              		.loc 1 397 0
 1743 002e 7047     		bx	lr
 1744              	.L119:
 1745              		.align	2
 1746              	.L118:
 1747 0030 00000000 		.word	.LANCHOR0
 1748              		.cfi_endproc
 1749              	.LFE85:
 1751              		.global	LCDerrorFlag
 1752              		.global	PCF8574_Type0Pins
 1753              		.section	.bss.LCDerrorFlag,"aw",%nobits
 1754              		.set	.LANCHOR0,. + 0
 1757              	LCDerrorFlag:
 1758 0000 00       		.space	1
 1759              		.section	.rodata.str1.4,"aMS",%progbits,1
 1760              		.align	2
 1761              	.LC0:
 1762 0000 2D00     		.ascii	"-\000"
 1763 0002 0000     		.space	2
 1764              	.LC1:
 1765 0004 2E00     		.ascii	".\000"
 1766              		.section	.data.PCF8574_Type0Pins,"aw",%progbits
 1767              		.align	2
 1768              		.set	.LANCHOR1,. + 0
 1771              	PCF8574_Type0Pins:
 1772 0000 04000000 		.word	4
 1773 0004 05000000 		.word	5
 1774 0008 06000000 		.word	6
 1775 000c 07000000 		.word	7
 1776 0010 00000000 		.word	0
 1777 0014 01000000 		.word	1
 1778 0018 02000000 		.word	2
 1779 001c 03000000 		.word	3
 1780              		.text
 1781              	.Letext0:
 1782              		.file 2 "/home/niklas/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/machine/_default_types.h"
 1783              		.file 3 "/home/niklas/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccj6Rwke.s 			page 40


 1784              		.file 4 "./Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 1785              		.file 5 "./Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1786              		.file 6 "./Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1787              		.file 7 "./Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1788              		.file 8 "./Inc/pcf8574.h"
 1789              		.file 9 "./Inc/hd44780.h"
 1790              		.file 10 "./Drivers/CMSIS/Include/core_cm3.h"
 1791              		.file 11 "./Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  /tmp/ccj6Rwke.s 			page 41


DEFINED SYMBOLS
                            *ABS*:00000000 hd44780.c
     /tmp/ccj6Rwke.s:20     .text.LCD_I2C_WriteOut:00000000 $t
     /tmp/ccj6Rwke.s:25     .text.LCD_I2C_WriteOut:00000000 LCD_I2C_WriteOut
     /tmp/ccj6Rwke.s:69     .text.LCD_I2C_WriteOut:00000024 $d
     /tmp/ccj6Rwke.s:74     .text.LCD_StateWriteBit:00000000 $t
     /tmp/ccj6Rwke.s:79     .text.LCD_StateWriteBit:00000000 LCD_StateWriteBit
     /tmp/ccj6Rwke.s:124    .text.LCD_StateLEDControl:00000000 $t
     /tmp/ccj6Rwke.s:129    .text.LCD_StateLEDControl:00000000 LCD_StateLEDControl
     /tmp/ccj6Rwke.s:153    .text.LCD_WriteToDataBus:00000000 $t
     /tmp/ccj6Rwke.s:158    .text.LCD_WriteToDataBus:00000000 LCD_WriteToDataBus
     /tmp/ccj6Rwke.s:267    .text.LCD_GetBusyFlag:00000000 $t
     /tmp/ccj6Rwke.s:272    .text.LCD_GetBusyFlag:00000000 LCD_GetBusyFlag
     /tmp/ccj6Rwke.s:375    .text.LCD_WaitForBusyFlag:00000000 $t
     /tmp/ccj6Rwke.s:380    .text.LCD_WaitForBusyFlag:00000000 LCD_WaitForBusyFlag
     /tmp/ccj6Rwke.s:438    .text.LCD_WriteCMD:00000000 $t
     /tmp/ccj6Rwke.s:443    .text.LCD_WriteCMD:00000000 LCD_WriteCMD
     /tmp/ccj6Rwke.s:526    .text.LCD_WriteCMD:00000064 $d
     /tmp/ccj6Rwke.s:531    .text.LCD_WriteDATA:00000000 $t
     /tmp/ccj6Rwke.s:536    .text.LCD_WriteDATA:00000000 LCD_WriteDATA
     /tmp/ccj6Rwke.s:609    .text.LCD_SetLocation:00000000 $t
     /tmp/ccj6Rwke.s:614    .text.LCD_SetLocation:00000000 LCD_SetLocation
     /tmp/ccj6Rwke.s:649    .text.LCD_SetLocation:0000001c $d
     /tmp/ccj6Rwke.s:654    .text.LCD_WriteString:00000000 $t
     /tmp/ccj6Rwke.s:659    .text.LCD_WriteString:00000000 LCD_WriteString
     /tmp/ccj6Rwke.s:745    .text.LCD_WriteString:00000038 $d
     /tmp/ccj6Rwke.s:750    .text.LCD_ClearDisplay:00000000 $t
     /tmp/ccj6Rwke.s:755    .text.LCD_ClearDisplay:00000000 LCD_ClearDisplay
     /tmp/ccj6Rwke.s:784    .text.LCD_ClearDisplay:00000014 $d
     /tmp/ccj6Rwke.s:789    .text.LCD_DisplayON:00000000 $t
     /tmp/ccj6Rwke.s:794    .text.LCD_DisplayON:00000000 LCD_DisplayON
     /tmp/ccj6Rwke.s:830    .text.LCD_DisplayOFF:00000000 $t
     /tmp/ccj6Rwke.s:835    .text.LCD_DisplayOFF:00000000 LCD_DisplayOFF
     /tmp/ccj6Rwke.s:871    .text.LCD_CursorON:00000000 $t
     /tmp/ccj6Rwke.s:876    .text.LCD_CursorON:00000000 LCD_CursorON
     /tmp/ccj6Rwke.s:919    .text.LCD_CursorOFF:00000000 $t
     /tmp/ccj6Rwke.s:924    .text.LCD_CursorOFF:00000000 LCD_CursorOFF
     /tmp/ccj6Rwke.s:962    .text.LCD_ShiftCursor:00000000 $t
     /tmp/ccj6Rwke.s:967    .text.LCD_ShiftCursor:00000000 LCD_ShiftCursor
     /tmp/ccj6Rwke.s:1024   .text.LCD_ShiftDisplay:00000000 $t
     /tmp/ccj6Rwke.s:1029   .text.LCD_ShiftDisplay:00000000 LCD_ShiftDisplay
     /tmp/ccj6Rwke.s:1086   .text.LCD_WriteNumber:00000000 $t
     /tmp/ccj6Rwke.s:1091   .text.LCD_WriteNumber:00000000 LCD_WriteNumber
     /tmp/ccj6Rwke.s:1195   .text.LCD_WriteNumber:00000048 $d
     /tmp/ccj6Rwke.s:1209   .text.LCD_WriteFloat:00000000 $t
     /tmp/ccj6Rwke.s:1214   .text.LCD_WriteFloat:00000000 LCD_WriteFloat
     /tmp/ccj6Rwke.s:1391   .text.LCD_WriteFloat:000000d4 $d
     /tmp/ccj6Rwke.s:1400   .text.LCD_EntryModeSet:00000000 $t
     /tmp/ccj6Rwke.s:1405   .text.LCD_EntryModeSet:00000000 LCD_EntryModeSet
     /tmp/ccj6Rwke.s:1435   .text.LCD_Init:00000000 $t
     /tmp/ccj6Rwke.s:1440   .text.LCD_Init:00000000 LCD_Init
     /tmp/ccj6Rwke.s:1671   .text.LCD_Init:0000013c $d
     /tmp/ccj6Rwke.s:1676   .text.LCD_CustomChar:00000000 $t
     /tmp/ccj6Rwke.s:1681   .text.LCD_CustomChar:00000000 LCD_CustomChar
     /tmp/ccj6Rwke.s:1747   .text.LCD_CustomChar:00000030 $d
     /tmp/ccj6Rwke.s:1757   .bss.LCDerrorFlag:00000000 LCDerrorFlag
     /tmp/ccj6Rwke.s:1771   .data.PCF8574_Type0Pins:00000000 PCF8574_Type0Pins
ARM GAS  /tmp/ccj6Rwke.s 			page 42


     /tmp/ccj6Rwke.s:1758   .bss.LCDerrorFlag:00000000 $d
     /tmp/ccj6Rwke.s:1760   .rodata.str1.4:00000000 $d
     /tmp/ccj6Rwke.s:1767   .data.PCF8574_Type0Pins:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
PCF8574_Write
PCF8574_Read
HAL_GetTick
__aeabi_dcmplt
__aeabi_ddiv
__aeabi_dadd
__aeabi_d2uiz
__aeabi_ui2d
__aeabi_dsub
__aeabi_dmul
__aeabi_d2iz
__aeabi_i2d
PCF8574_Init
HAL_Delay
